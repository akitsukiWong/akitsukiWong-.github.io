title: 试题
author: 汪秋月
date: 2019-12-13 17:09:29
tags:
---
# Web前端练习题
---

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    let person = {};
    person.firstName = "John";
    person.lastName = "Lee";
    ```

    > ```js
    > let person = {
    >     firstName:"John",
    >     lastName:"Lee"
    > }
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    function getArea(shape, options) {
        var area = 0;
        switch (shape) {
            case 'Triangle':
                area = options.width * options.height / 2;
                break;
            case 'Square':
                area = Math.pow(options.width, 2);
                break;
            case 'Rectangle':
                area = options.width * options.height;
                break;
            case 'Circle': // 17: New Shape Type
                area = Math.PI * Math.pow(options.radius, 2);
                break;
            default:
                throw new Error('Invalid shape: ' + shape);
        }
        return area;
    }
    ```

    > ```js
    > function getArea(shape, options) {
    >     let { width, height, radius } = options
    >     let formula = {
    >       "Triangle": (width * height) / 2,
    >       "Square": Math.pow(width, 2),
    >       "Rectangle": width * height,
    >       "Circle": Math.PI * Math.pow(radius, 2)
    >     };
    >     let area = formula[shape]?formula[shape]:new Error("Invalid shape: " + shape)
    >     return area;
    > }
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    let build = function(id, href, text) {
        return $("<div id='tab'><a href='" + href + "' id='" + id + "'>" + text + "</a></div>");
    }
    ```

    > ```js
    > let build = function(id, href, text) {
    >     return $(`<div id='tab'><a href='${href}' id='${id}'>${text}</a></div>`);
    > }
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    // 判断一个事件是不是触摸事件
    function touch(event){
        return event instanceof TouchEvent;
    }
    ```

    > ```js
    > // 判断一个事件是不是触摸事件
    > function isTouchEvent(event){
    >     return (event instanceof TouchEvent);
    > }
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    function upload(file){
        // 修改上传文件最大限制为20M
        if (file.fileSize > 10 * 1024 * 1024) {
            return false;
        }
        // call ajax to upload file
    }
    ```

    > ```js
    > function upload(file){
    >     // 修改上传文件最大限制为20M
    >     if (file.fileSize > (10 * 1024 * 1024) ) {
    >         return false;
    >     }
    >     // call ajax to upload file
    > }
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    if(a === b){
        return true;
    } else {
        return false;
    }
    ```

    > ```js
    > return (a === b);
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```css
    .punch-card-info{
        background: #14BE4B;
        & > div:first-child{
            font-size: 18px;
            color: #FFFFFF;
            text-align: center;
        }
        & > div:nth-child(2){
            font-size: 18px;
            line-height: 40px;
            color: #FFFFFF;
        }
        & > div:nth-child(3){
            display: flex;
            font-size: 28px;
            color: #FFFFFF;
            & > div:first-child{
                flex: 1;
            }
        }
    ```

    > ```css
    > .punch-card-info{
    >     background: #14BE4B;
    >     font-size: 18px;
    >     color: #FFFFFF;
    >     & > div:nth-child(1){
    >         text-align: center;
    >     }
    >     & > div:nth-child(2){
    >         line-height: 40px;
    >     }
    >     & > div:nth-child(3){
    >         display: flex;
    >         font-size: 28px;
    >         & > div:nth-child(1){
    >             flex: 1;
    >         }
    >     }
    > ```
    
1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    // 状态：null 未检测, undefined 检测中, false 不可用, true 可用
    @observable domainNameIsAvailable = null;
    ```
    
    > 名字太长？

    
1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    class ToDoStore extends BaseStore{
        // ....
        getValidationConfig(){
            return {
                'form.code': {
                    required: true,
                    code: true,
                },
                // 'form.remark': {
                //     required: true,
                //     maxLength: 200,
                //     params: {
                //         source: i18n.t('form.detailedDescription')
                //     }
                // }
            };
        }
    };
    ```

    > 无用的注释要及时删除？

1. 以下代码片段摘自某个项目，请问有没有什么问题？
    ```js
    class Calendar extends React.Component{
        // ...
        swipeChangeDateByMonth = (direction) => {
            let {onChange, value} = this.props;
            if(direction === 'left'){
                /* 计算上月1号的日期 */
                let beforeMonth = moment(value).add(-1, 'month').startOf('month').format('YYYY-MM-DD');
                onChange && onChange(beforeMonth);
    
            }else{
                /* 计算下月1号的日期 */
                let afterMonth = moment(value).add(1, 'month').startOf('month').format('YYYY-MM-DD');
                onChange && onChange(afterMonth);
            }
        }
        // ...
    }
    ```

    > ```js
    > class Calendar extends React.Component{
    >     // ...
    >     swipeChangeDateByMonth = (direction,val) => {
    >         let {onChange, value} = this.props;
    >         let val = direction === 'left' ? -1 : 1;
    >         let res = moment(value).add(val, 'month').startOf('month').format('YYYY-MM-DD');
    >             onChange && onChange(res);
    >     }
    >     // ...
    > }
    > ```
    
1. 以下代码片段摘自某个项目，它将后端传来的时间字符串转成适合人们阅读的时间，比如“上午10:20”。请问可以怎样优化？
    ```js
    let timeType = moment(time).format('a');
    if (timeType === 'am') {
        return `${i18n.t('time.am')}${moment(time).format('hh:mm')}`;
    } else if(timeType === 'pm') {
        return `${i18n.t('time.pm')}${moment(time).format('hh:mm')}`;
    } else {
        return '';
    }
    ```

    > ```js
    > let timeType = moment(time).format('a');
    > let res = timeType ? i18n.t(`time.${timeType}`) + moment(time).format('hh:mm') : ''
    > return res;
    > ```
1. 以下代码片段摘自某个项目，它想表达请假额度还剩多少，比如`还有2.50d/共5.00d`。请问可以怎样优化？
    ```jsx
    <div className="time-description">
        { i18n.t('quota.remain') }
        { parseFloat(creditBranchItem.creaditRemain).toFixed(2) }
        { quotaListItem.creaditBranch[0].creaditUnit === '0'? 'd': 'h' }
        /
        { i18n.t('quota.total') }
        { parseFloat(creditBranchItem.creaditTotal).toFixed(2) }
        { quotaListItem.creaditBranch[0].creaditUnit === '0'? 'd': 'h' }
    </div>
    ```

    > ```jsx
    > //单位
    > let unit = quotaListItem.creaditBranch[0].creaditUnit === '0'? 'd': 'h'
    > //剩余额度
    > let creaditRemain = i18n.t('quota.remain') + parseFloat(creditBranchItem.creaditRemain).toFixed(2) + unit;
    > //总额度
    > let creaditTotal = i18n.t('quota.total') + parseFloat(creditBranchItem.creaditTotal)> .toFixed(2) + unit;
    >
    > render(){
    >     return(
    >         <div className="time-description">
    >             { creaditRemain }/{ creaditTotal }
    >         </div>
    >     );
    > }
    > ```


1. 以下代码片段摘自某个项目，根据全局变量（通过ajax请求从后端获取）中的信息获取某种表单所有能上传附件的最大数量。请问有以下代码又什么问题？
    ```js
    getAttachmentAmount = function(param){
        let count = globalConfig.formConfigParams[param];
        if(count === '1') return 1;
        if(count === '2') return 5;
        if(count === '0') return false;
    }
    ```

    > ```js
    > getAttachmentAmount = function(param){
    >     let count = globalConfig.formConfigParams[param];
    >     let config = {
    >         '1': 1,
    >         '2': 2,
    >         '0': false
    >     }
    >     return config[count]
    > }
    > ```

1. 以下代码是使用`mobx`创建的一个`Store`，有什么问题？
    ```ts
    import { observable, action } from 'mobx';
    
    class MyStore {
        @observable id = 1;
        name = 'ZhangSan';
    
        @action
        setId = (id: number) => (this.id = id);
        @action
        setName = (name: string) => (this.name = name);
    }
    ```

    > name 没有给 @observable

1. 如图所示，为什么VS Code编辑器会添加波浪线？遇到这种情况我们应该怎么做？
    ![](https://assets.gaiaworkforce.com/example/fe-exam/typo.png)

    > 单词拼错了，可以装VsCode插件（Code Spell Checker）

1. 在旧版的DOM规范中，`EventTarget.addEventListener`的第三个参数是一个布尔值`useCapture`，而在后来的规范中还可以是一个对象`option`，为什么会有这种改变？首先是因为可用的参数更多，比如`once`表示该事件是监听一次；`passive`表示回调函数`listener`里不会调用`e.preventDefault`方法。为什么DOM规范会修改第三个参数的类型，而不是继续在后面追加参数？
    ```
    // 旧版规范
    target.addEventListener(type, listener[, useCapture]);
    // 新版规范新增，options: {useCapture, once, passive }
    target.addEventListener(type, listener[, options]);
    ```

    > 要兼容以前的代码，实际项目中 useCapture 用到的不多，默认值为 false，一般情况下都直接不写，如果设计成在后面追加参数的话，第三个参数还得补上

1. React中`dangerouslySetInnerHTML`属性的用途是什么？为什么这个属性名字里有`dangerously`字样？

    > dangerouslySetInnerHTML 是 React 为浏览器 DOM 提供 innerHTML 的替换方案。
    > 因为直接设置 HTML 存在风险，因为很容易无意中使用户暴露于跨站脚本（XSS）的攻击

1. React中通过如下方式引用图片有什么问题？有没有更好的方法？
    ```jsx
    <img src="/assets/loading.png" />
    
    ```

    > ```
    > jsx文件中，不支持直接在标签内直接赋值路径
    >
    > - import法:
    > import loading from "/assets/loading.png";
    > <img src={loading} />
    >
    > - require法:
    > <img src={require('/assets/loading.png')} />
    > ```

1. 以下代码有什么问题？
    ```jsx
    import React from 'react';
    import { action } from 'mobx';
    import { observer } from 'mobx-react';
    import store from './store';
    
    @observer
    export default class MyComponent extends React.Component {
        @action
        componentDidMount() {
            store.id = this.props.id;
            store.name = this.props.name;
        }
        // ...
    }
    ```

    > componentDidMount 只会在第一次渲染时触发
    
1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```jsx
    export default class FormStatus extends React.Component{
        static propTypes = {
            value: PropTypes.string.isRequired,
            onChange: PropTypes.func,
        }; 
        onChange = (value) => {
            let { onChange } = this.props;
            onChange && onChange(value);
        }
        // ...
    }
    ```

    > 如果传来了 onChange 方法就用传来的，如果没有就用后面的 onChange 方法
    
1. 以下代码展示“为 XXXXXX GPS考勤点设置位置”，有什么问题？应该怎样优化？
    ```jsx
    <div>{i18n.t('authorization.for')} {item.GroupName} {i18n.t('authorization.gps')}</div>
    ```

    > ```jsx
    > <div>{i18n.t('authorization.for') + item.GroupName + i18n.t('authorization.gps')}</div>
    > ```
    
1. 以下代码有什么问题？应该怎样优化？
    ```jsx
    render(){
        let { url } = this.props;
        return (
            <If condition={url}>
                <iframe style={{'width':'calc(100% - 30px)', 'height': 'calc(100% - 3px)', 'borderWidth':'0', marginLeft: '30px'}} src={url}></iframe>
            </If>
        )
    }
    ```

    > 最好不要直接在代码中写style，优化：样式写 class 里面

1. 以下代码有哪些不优雅的做法？
    ```js
    class MyConponent extends React.Component {
        // ...
        getSuitableLength(length){
            let $tree = $(ReactDOM.findDOMNode(this.tree));
            $tree.css('width', this.length);
            $tree.addClass('overflow-visible');
            let tree = $tree.find('.hr1-tree-full-width').get(0);
            length = tree.scrollWidth + (utils.brower.chrome ? 14 : 17);
            $tree.removeClass('overflow-visible');
            $tree.css('width', '');
            return length;
        };
        // ...
    }
    ```

    > 用了 jQuery ？

1. 以下是对`Button`组件的样式定义，请问有什么问题？
    ```less
    .hr1-button{
        height: 40px;
        /* 两个按钮并排时的间距 */
        margin-right: 10px;
    }
    ```

    > margin-right 的话一排最后一个元素的 right 也会多 10px ？还是覆盖组件库样式优先级不够 ？
    
1. 下面一段代码有什么问题？
    ```html
    <div>
        <div class="font-size-small">我<div>
        <div class="font-size-small">最<div>
        <div class="font-size-small">喜<div>
        <div class="font-size-small">欢<div>
        <div class="font-size-small">的<div>
        <div class="font-size-small">城<div>
        <div class="font-size-small">市<div>
        <div class="font-size-small">：<div>
        <div class="font-size-big">苏州<div>
    </div>
    ```

    > ```html
    > <div>
    >     <div class="font-size-small">我最喜欢的城市：</div>
    >     <div class="font-size-big">苏州</div>
    > </div>
    > ```
    
1. 下面这段代码是一个前端截了他同事的代码并转发到脉脉上，请问你认为他要吐槽什么？
    ```js
    document.body.addEventListener("click", function(e){
        (
            e.target.getAttribute &&
            "shareToFriends" === e.target.getAttribute("m-data-type") ||
            e.target.parentNode &&
            e.target. parentNode.getAttribute &&
            "shareToFriends" === e.target.parentNode.getAttribute("m-data-type") ||
            e.target.parentNode &&
            e.target.parentNode.parentNode &&
            e.target.parentNode.parentNode.getAttribute &&
            "shareToFriends" === e.target.parentNode.parentNode.getAttribute("m-data-type")
            e.target.parentNode &&
            e.target.parentNode.parentNode &&
            e.target.parentNode.parentNode.parentNode &&
            e.target.parentNode.parentNode.parentNode.getAttribute &&
            "shareToFriends" === e.target.parentNode.parentNode.parentNode.getAttribute("m-data-type")
        ) && new weixinShare().callShare()
    }, false);
    ```

    > 逻辑复杂，没有注释

1. 当接到一个任务以后，应该和产品经理讨论清楚：谁会使用这个功能？这个功能会带来什么价值？怎样验证这个功能？如果这三个问题没有讨论清楚，不宜开工。这种说法对吗？

    > 理想情况下这种说法是正确的。。

1. 在一个新项目的启动会上，产品经理在讲完需求之后，前端同事`Bob`和后端同事`Jim`分别独立地进行了开发工作，等到联调的时候才发现，接口跟本对不上，公说公有理，婆说婆有理，谁都不愿意做出修改。比如在分页查询数据的接口中，`Bob`是按照前端组件库要求来写的，而后端`Jim`则采用了自创的格式，如下所示。请问他们做错了什么？
    ```js
    // 前端同事 Bob 期望的响应数据格式
    {
        result: true,
        page: {
            pageNum: 1,
            total: 120,
        },
        data: [], // 列表数据
    }
    // 后端同事 Jim 返回的响应数据格式
    {
        isSuccess: true,
        code: 0,
        message: null,
        pageIndex: 1,
        pageSize: 10,
        totalPages: 12,
        totalRows: 120
        data: [],  // 列表数据
    }
    ```

    > 因为事先没有约定好接口返回格式

1. 前端同事`Bob`和后端同事`Jim`配合完成一项任务，但是`Jim`因为其他更高优先级的任务迟迟没有开发，导致`Bob`开发工作卡在第一个`ajax`请求这里，因为没有一个可用的后端接口来返回数据。请问`Bob`此时应该怎么做？

    > 前端先定义接口，通知后端，然后写mock数据开发

1. 后端同事`Jim`说他每次处理请求都要查询数据库获得当前用户ID，很麻烦，也很耗性能，让前端同事`Bob`把当前用户的ID顺便传给他。`Bob`表示很为难，请你帮`Bob`出个主意吧？
    > 前端知道当前用户id的情况下就传给他

1. 前端同事`Bob`和后端同事`Jim`一起完成手机验证码登录，`Jim`要把验证码返回给前端，他说这样就可以在浏览器里检查验证码是否正确了，还说这样还可以实现自动获取验证码自动填充了，就像很多手机App里的那样。`Bob`虽然觉得没有听过谁这么做过，但是对自动填充验证码还是非常心动。请问你遇到这种情况会怎么做？

    > 告诉后端放在前端处理不安全

1. 测试同事`Ray`发来一个`Bug`，表单中某个字段忘记了必填校验。当前端同事`Bob`改完以后让后端同事`Jim`也修改一下，`Jim`说前端加上校验就行了，后端就不用加了。请问`Bob`应该怎么做？

    > 告诉后端，前端做完校验后端也需要再次校验，这样会更安全，前端在浏览器上做的校验很容易被跳过的

1. [公司API设计使用规范](http://wiki.gaiaworks.cn:8090/pages/viewpage.action?pageId=34515889)中明确指出，参数或响应中的字段都是小驼峰格式，比如`id`，`userName`。有一天后端同事`Jim`找到前端同事`Bob`说因为他们用的`C#`，而在`C#`规范中对象字段名称是大驼峰格式，比如`Id`，`UserName`等。因此要求在前后端接口中使用大驼峰格式，请问`Bob`应该怎么做？
    ```js
    // 此处省略了变量定义相关代码
    return new Promise((resolve)=>{
        ajax.loadable.post('/user', {id}).then((user) => {
            resolve({
                id: user.Id,
                userName: user.UserName,
                // 此处省略了其他字段
            });
        });
    });
    ```

    > 按公司规范来，使用小驼峰


1. 你看了产品经理转发给你的设计稿，发现`Button`组件和组件库的尺寸不一样，你是偷偷地覆盖`Button`组件样式？还是找设计师理论？如果设计师不给拒不修改，怎么做？

    > 找设计师沟通，设计师应该有设计规范，设计师不改的话，看按钮使用的地方多不多，如果就这一个页面使用就在当前页面修改样式，不修改组件库样式

1. 产品经理给你一个任务，让你将提交请假申请的页面跳转逻辑修改如下，功能列表（九宫格）页面，点击“请假申请”进入请假页面，提交之后跳转到“请假申请查看”页面，此时点击页面顶部返回按钮时跳转到“我的表单”页面，这样的跳转逻辑有什么问题吗？你应该怎么做？
    
    > 页面顶部返回按钮应该是一个通用的组件通用方法，点击是返回上一个路由，用户的习惯也应该是点击返回按钮会返回到上一步操作的页面。我应该跟产品经理沟通修改逻辑，比如在“请假申请查看”页面再加一个按钮告诉用户可以通过这个按钮返回“我的表单”页面

1. 当我遇到组件库中的Bug时，应该报告负责维护组件库的同事，如果我能修复，就去提交`PR`（pull request）。这种说法对吗？

    > 应该先和组件库沟通，能组件库去修改还是组件库改比较合适，维护组件库的同事比我们更加熟悉组件库项目

1. 你加入一个项目时，发现该项目的编码风格跟你完全不一致，比如该项目缩进使用的`Tab`符号，而不是你常用的4个空格，这时候你应该怎么做？ 
    > 使用prettier，创建.prettierrc 文件定义编码风格

1. 你所在项目要加入一个新页面，你看到蓝湖上的设计稿中字体是“苹方-简 纤细体”（font-family:PingFangSC-Thin,PingFang SC;），你应该怎么做？是在当前页面或当前元素中使用该字体，还是忽略字体相关信息？为什么？

    > 设计师应该是使用苹果电脑做的设计稿，用的是苹果的默认字体，与设计师沟通是否有必要使用该字体

1. 为了减少代码冲突，每天早上`git pull`拉一下最新代码，每天晚上`git add`, `git commit`, `git push`推一下今天写的代码，这种做法合适吗？

    > 答：不合适，代码应该经常提交，最好每改一个bug，或者完成一个小功能时都提交一下，留下记录，毕竟都在本地，一天只提交一次备注都不好写，因为一天可能改了很多处代码很多功能；push代码可以是完成一个大功能，保证代码可以正常运行时再推上去

1. 代码测试通过后，首先通过`git diff`查看一下是不是所有的修改都是必要的，是不是还有`console.log`等调试代码，再`git add`和`git commit`。这种做法合适吗？
    > 合适

1. 前端项目的工程化离不开`Node`，也离不开`Node`的第三方包。`Node`的第三方包安装目录`node_modules`一般都不需要提交，可以在`.gitignore`文件里将其排除掉，以免不小心提交到代码仓库里。这种说法正确吗？

    > 正确

1. 以下是某位同学定义的接口文档，因为篇幅问题省略了响应部分。请问你最不能忍受的是什么？
    ```
    1. 获取年报数据
    地址：GET /api/person/annual-report
    参数：
        1. person: 字符串，必填。用户ID
    响应：{}
    
    2. 保存用户愿望
    地址：POST /api/person/wish
    参数：
        1. personID: 字符串，必填。用户ID
        2. wish: 字符串，必填。用户愿望
    响应：{}
    ```

    > 不能忍受后端的工作态度，偷懒，缺乏责任心
    
1. 以下是一个完整的JavaScript文件，请问有没有什么问题？
    ```js
    import { action, computed, observable } from 'mobx';
    import React from 'react';
    
    class ToDoStore {
        @observable public name = '';
    
        @action
        public setName = (name) => (this.name = name);
    }
    
    export default new ToDoStore();
    ```

    > 用了 public 关键字，看起来是用了 typescript，没有定义类型


1. 以下是某个项目的目录结构，请问有没有什么问题？
    ```
    |-- src
        |-- user-info
            |-- index.store.ts
            |-- index.tsx
        |-- BandCard
            |-- indexStore.ts
            |-- index.tsx
        |-- zhi-fu
            |-- index.store.ts
            |-- index.tsx
        |-- setting.store.ts
        |-- setting.tsx
        |-- app.tsx
    ```

    > 文件命名没有统一，不规范


1. 从用户体验角度来讲，以下设计有什么问题？
    ![](https://assets.gaiaworkforce.com/example/fe-exam/2-primary-buttons.png)

    > 功能不同的按钮不应该放在一起， 应该按功能区划分

1. 以下代码是对整数数组进行排序，有什么问题，应该如何修改？
    ```js
    [1, 2, 3, 11, 22].sort();
    ```
    
    > sort不是按数值大小进行排序，是根据字符编码的顺序进行排序
    > 
    > 改进：
    > ```js
    >     [1, 2, 3, 11, 22].sort((a, b)=>{
    >         return a - b 
    >     })
    > ```

1. 从代码可读性方面考虑，下面代码应该怎么优化？
    ```js
    if(array.indexOf(item) === -1){
        // do something here
    }
    ```

    > ```js
    > if(!~array.indexOf(item)){
    >     // do something here
    > }
    > ```

1. 以下代码实现了`Array.prototype.includes`的`polyfill`方法，有了这段代码以后，就可以不用考虑`Array.prototype.includes`浏览器兼容性问题了。以下代码有什么问题，应该如何改进？
    ```js
    if(!Array.prototype.includes){
        Array.prototype.includes = function(item){
            return this.join('').includes(item);
        }
    }
    ```

    > join后变成字符串了，null 和 undefined 会丢失
    >
    > 改进:
    > 直接用lodash吧

1. 以下代码有什么问题？应该如何修改？
    ```js
    function Person(name){
        this.name = name || 'Unnamed';
        // do something here
    }
    ```

    > 没问题吧。。

1. 以下代码有什么问题？应该如何修改？
    ```js
    function callback(rowData) {
        const url = `/api/path/?id=${rowData.id}&name=${rowData.name}`;
        ajax.get(url).then((data)=>{
            // do something here
        });
    }
    ```

    > 用的应该是组件库的ajax，get请求传参也不用拼在url后面，不然参数会有错
    > 
    > ```js
    > function callback(rowData) {
    >     ajax.get('/api/path/',{
    >         id:rowData.id,
    >         name:rowData.name
    >     }).then((data)=>{
    >         // do something here
    >     });
    > }
    > ```
    
1. 以下代码有什么问题？应该如何修改？
    ```js
    class MyStore {
        // ...
        //计算表格统计
        @computed
        get handleApprovalCount() {
            return (this.approvalCount = _.filter(this.getTableData(), o => {
                return o.status === utils.APPROVE_STATUS.ACTIVE;
            }).length);
        }
        @computed
        get handleAgreeCount() {
            return (this.approvalCount = _.filter(this.getTableData(), o => {
                return o.status === utils.APPROVE_STATUS.COMPLETED;
            }).length);
        }
        @computed
        get handleRejectCount() {
            return (this.approvalCount = _.filter(this.getTableData(), o => {
                return o.status === utils.APPROVE_STATUS.REJECT;
            }).length);
        }
        // ...
    }
    ```
    
    > 看起来是在计算 this.approvalCount 的值，它应该是个observable对象，而且计算值不应该用get return，应该set
    >
    > ```js
    > class MyStore {
    >     // ...
    >     @observable
    >     approvalCount;
    >     //计算表格统计
    >     @computed
    >     set handleApprovalCount() {
    >         this.approvalCount = _.filter(this.getTableData(), o => {
    >             return o.status === utils.APPROVE_STATUS.ACTIVE;
    >         }).length;
    >     }
    >     @computed
    >     set handleAgreeCount() {
    >         this.approvalCount = _.filter(this.getTableData(), o => {
    >             return o.status === utils.APPROVE_STATUS.COMPLETED;
    >         }).length;
    >     }
    >     @computed
    >     set handleRejectCount() {
    >         this.approvalCount = _.filter(this.getTableData(), o => {
    >             return o.status === utils.APPROVE_STATUS.REJECT;
    >         }).length;
    >     }
    >     // ...
    > }
    > ```

1. 以下代码通过阿里云提供的SDK将文件上传到OSS中，这段代码有什么问题？
    ```js
    async function putImage(file) {
        try{
            const client = new OSS(config.oss);
            const reader = fs.createReadStream(file.path);
            return await client.put(file.name, reader);
        }catch(e){}
    }
    ```

    > new OSS 应该是个全局变量，应该提到函数上面，不然每次调用putImage函数都会 new OSS
    >
    > oss 的配置不要直接写在前端代码中，不安全