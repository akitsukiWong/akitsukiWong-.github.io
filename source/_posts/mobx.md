title: mobx
author: 汪秋月
date: 2019-10-15 13:48:21
tags:
---
# 介绍


![upload successful](/images/pasted-11.png)

## mobx 对比 redux

- 开发难度低
- 开发代码量少
- 渲染性能好

## 核心思想

状态变化引起的副作用应该被自动触发


## 原则

单向数据流，动作改变状态

![upload successful](/images/pasted-9.png)

Mobx的核心原理是通过action触发state的变化，进而触发state的衍生对象。

当状态改变时，所有衍生都会进行原子级的自动更新。因此永远不可能观察到中间值。

所有衍生默认都是同步更新。这意味着例如动作可以在改变状态之后直接可以安全地检查计算值。

计算值 是延迟更新的。任何不在使用状态的计算值将不会更新，直到需要它进行副作用（I / O）操作时。 如果视图不再使用，那么它会自动被垃圾回收。

所有的计算值都应该是纯净的。它们不应该用来改变状态。

# 语法

## observable

observable 是一种让数据的变化可以被观察的方法

## 对 observable 作出响应

### computed

计算完成之后是一个新的可观察数据

### autorun

立即触发，可观察数据修改之后会自动再次触发

### when

条件执行，接收两个参数，可观察数组返回值若为真，执行后面

### reaction

与autorun类似，函数不会立即执行

