title: 每天一个设计模式——工厂模式
author: 汪秋月
date: 2020-03-10 10:41:51
tags:
---
# 理解

类似于工厂，通过一个工厂函数，快速批量地建立一系列相同的类，也可以用来创建对象、方法。

工厂模式是用来创建对象的一种最常用的设计模式。我们不暴露创建对象的具体逻辑，而是将将逻辑封装在一个函数中，那么这个函数就可以被视为一个工厂。工厂模式根据抽象程度的不同可以分为：简单工厂，工厂方法和抽象工厂。



# 判断

- 将 new 操作单独封装
- 遇到 new 时，就要考虑是否为工厂模式


# 示例

简单的对象工厂例子
```
function PersonFactory(name) { // 工厂函数
  let obj = new Object();
  obj.name = name;    
  obj.sayName = function(){
      return this.name;
  }
  return obj;
}
let person = new PersonFactory("张三");

console.log(person.name); // 张三
console.log(person.sayName()); // 张三
```

简单工厂模式就是一个工厂类和一个工厂函数，通过传入参数的不同，返回不同的实例。

```
class Product {
    constructor(name) {
        this.name = name;
    }
    fun() {
        console.log(`我是{this.name}`)
    }
}

class Creator {
    create(name) {
        return new Product(name);
    }
}

let creator = new Creator()
let p = creator.create("小明")
p.fun();
```