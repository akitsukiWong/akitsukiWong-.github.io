title: jsæ•°æ®ç±»åž‹
author: æ±ªç§‹æœˆ
date: 2018-09-07 09:25:27
tags:
---


# JSæ•°æ®ç±»åž‹

- æ¦‚è¿°
- nullï¼Œundefined å’Œå¸ƒå°”å€¼
- æ•°å€¼
- å­—ç¬¦ä¸²
- å¯¹è±¡
- å‡½æ•°
- æ•°ç»„

## æ¦‚è¿°

### ç®€ä»‹

JavaScript è¯­è¨€çš„æ¯ä¸€ä¸ªå€¼ï¼Œéƒ½å±žäºŽæŸä¸€ç§æ•°æ®ç±»åž‹ã€‚JavaScript çš„æ•°æ®ç±»åž‹ï¼Œå…±æœ‰å…­ç§ã€‚ï¼ˆES6 åˆæ–°å¢žäº†ç¬¬ä¸ƒç§ Symbol ç±»åž‹çš„å€¼ï¼Œæœ¬æ•™ç¨‹ä¸æ¶‰åŠã€‚ï¼‰

- æ•°å€¼ï¼ˆnumberï¼‰ï¼šæ•´æ•°å’Œå°æ•°ï¼ˆæ¯”å¦‚1å’Œ3.14ï¼‰
- å­—ç¬¦ä¸²ï¼ˆstringï¼‰ï¼šæ–‡æœ¬ï¼ˆæ¯”å¦‚Hello Worldï¼‰ã€‚
- å¸ƒå°”å€¼ï¼ˆbooleanï¼‰ï¼šè¡¨ç¤ºçœŸä¼ªçš„ä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œå³trueï¼ˆçœŸï¼‰å’Œfalseï¼ˆå‡ï¼‰
- `undefined`ï¼šè¡¨ç¤ºâ€œæœªå®šä¹‰â€æˆ–ä¸å­˜åœ¨ï¼Œå³ç”±äºŽç›®å‰æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥æ­¤å¤„æš‚æ—¶æ²¡æœ‰ä»»ä½•å€¼
- `null`ï¼šè¡¨ç¤ºç©ºå€¼ï¼Œå³æ­¤å¤„çš„å€¼ä¸ºç©ºã€‚
- å¯¹è±¡ï¼ˆobjectï¼‰ï¼šå„ç§å€¼ç»„æˆçš„é›†åˆã€‚

é€šå¸¸ï¼Œæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼è¿™ä¸‰ç§ç±»åž‹ï¼Œåˆç§°ä¸ºåŽŸå§‹ç±»åž‹ï¼ˆprimitive typeï¼‰çš„å€¼ï¼Œå³å®ƒä»¬æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç±»åž‹ï¼Œä¸èƒ½å†ç»†åˆ†äº†ã€‚å¯¹è±¡åˆ™ç§°ä¸ºåˆæˆç±»åž‹ï¼ˆcomplex typeï¼‰çš„å€¼ï¼Œå› ä¸ºä¸€ä¸ªå¯¹è±¡å¾€å¾€æ˜¯å¤šä¸ªåŽŸå§‹ç±»åž‹çš„å€¼çš„åˆæˆï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå­˜æ”¾å„ç§å€¼çš„å®¹å™¨ã€‚è‡³äºŽ`undefined`å’Œ`null`ï¼Œä¸€èˆ¬å°†å®ƒä»¬çœ‹æˆä¸¤ä¸ªç‰¹æ®Šå€¼ã€‚

å¯¹è±¡æ˜¯æœ€å¤æ‚çš„æ•°æ®ç±»åž‹ï¼Œåˆå¯ä»¥åˆ†æˆä¸‰ä¸ªå­ç±»åž‹ã€‚

- ç‹­ä¹‰çš„å¯¹è±¡ï¼ˆobjectï¼‰
- æ•°ç»„ï¼ˆarrayï¼‰
- å‡½æ•°ï¼ˆfunctionï¼‰

ç‹­ä¹‰çš„å¯¹è±¡å’Œæ•°ç»„æ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç»„åˆæ–¹å¼ï¼Œé™¤éžç‰¹åˆ«å£°æ˜Žï¼Œæœ¬æ•™ç¨‹çš„â€å¯¹è±¡â€œéƒ½ç‰¹æŒ‡ç‹­ä¹‰çš„å¯¹è±¡ã€‚å‡½æ•°å…¶å®žæ˜¯å¤„ç†æ•°æ®çš„æ–¹æ³•ï¼ŒJavaScript æŠŠå®ƒå½“æˆä¸€ç§æ•°æ®ç±»åž‹ï¼Œå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œè¿™ä¸ºç¼–ç¨‹å¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼Œä¹Ÿä¸º JavaScript çš„â€œå‡½æ•°å¼ç¼–ç¨‹â€å¥ å®šäº†åŸºç¡€ã€‚

### `typeof` è¿ç®—ç¬¦

JavaScript æœ‰ä¸‰ç§æ–¹æ³•ï¼Œå¯ä»¥ç¡®å®šä¸€ä¸ªå€¼åˆ°åº•æ˜¯ä»€ä¹ˆç±»åž‹ã€‚

- `typeof` è¿ç®—ç¬¦
- `instanceof` è¿ç®—ç¬¦
- `Object.prototype.toString` æ–¹æ³•

`instanceof`è¿ç®—ç¬¦å’Œ`Object.prototype.toString`æ–¹æ³•ï¼Œå°†åœ¨åŽæ–‡ä»‹ç»ã€‚è¿™é‡Œä»‹ç»`typeof`è¿ç®—ç¬¦ã€‚

`typeof`è¿ç®—ç¬¦å¯ä»¥è¿”å›žä¸€ä¸ªå€¼çš„æ•°æ®ç±»åž‹ã€‚

æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼åˆ†åˆ«è¿”å›ž`number`ã€`string`ã€`boolean`ã€‚

```
typeof 123 // "number"
typeof '123' // "string"
typeof false // "boolean"
```

å‡½æ•°è¿”å›žfunctionã€‚

```
function f() {}
typeof f
// "function"
```

undefinedè¿”å›žundefinedã€‚

```
typeof undefined
// "undefined
```

åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œ`typeof`å¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªæ²¡æœ‰å£°æ˜Žçš„å˜é‡ï¼Œè€Œä¸æŠ¥é”™ã€‚

```
v
// ReferenceError: v is not defined

typeof v
// "undefined"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`v`æ²¡æœ‰ç”¨`var`å‘½ä»¤å£°æ˜Žï¼Œç›´æŽ¥ä½¿ç”¨å°±ä¼šæŠ¥é”™ã€‚ä½†æ˜¯ï¼Œæ”¾åœ¨`typeof`åŽé¢ï¼Œå°±ä¸æŠ¥é”™äº†ï¼Œè€Œæ˜¯è¿”å›ž`undefined`ã€‚

å®žé™…ç¼–ç¨‹ä¸­ï¼Œè¿™ä¸ªç‰¹ç‚¹é€šå¸¸ç”¨åœ¨åˆ¤æ–­è¯­å¥ã€‚

```
// é”™è¯¯çš„å†™æ³•
if (v) {
  // ...
}
// ReferenceError: v is not defined

// æ­£ç¡®çš„å†™æ³•
if (typeof v === "undefined") {
  // ...
}
```

å¯¹è±¡è¿”å›ž`object`ã€‚

```
typeof window // "object"
typeof {} // "object"
typeof [] // "object"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç©ºæ•°ç»„ï¼ˆ[]ï¼‰çš„ç±»åž‹ä¹Ÿæ˜¯`object`ï¼Œè¿™è¡¨ç¤ºåœ¨ JavaScript å†…éƒ¨ï¼Œæ•°ç»„æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚è¿™é‡Œé¡ºä¾¿æä¸€ä¸‹ï¼Œ`instanceof`è¿ç®—ç¬¦å¯ä»¥åŒºåˆ†æ•°ç»„å’Œå¯¹è±¡ã€‚`instanceof`è¿ç®—ç¬¦çš„è¯¦ç»†è§£é‡Šã€‚

```
var o = {};
var a = [];

o instanceof Array // false
a instanceof Array // true
```

nullè¿”å›žobjectã€‚

```
typeof null // "object"
```

`null`çš„ç±»åž‹æ˜¯`object`ï¼Œè¿™æ˜¯ç”±äºŽåŽ†å²åŽŸå› é€ æˆçš„ã€‚1995å¹´çš„ JavaScript è¯­è¨€ç¬¬ä¸€ç‰ˆï¼Œåªè®¾è®¡äº†äº”ç§æ•°æ®ç±»åž‹ï¼ˆå¯¹è±¡ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼‰ï¼Œæ²¡è€ƒè™‘`null`ï¼ŒåªæŠŠå®ƒå½“ä½œ`object`çš„ä¸€ç§ç‰¹æ®Šå€¼ã€‚åŽæ¥`null`ç‹¬ç«‹å‡ºæ¥ï¼Œä½œä¸ºä¸€ç§å•ç‹¬çš„æ•°æ®ç±»åž‹ï¼Œä¸ºäº†å…¼å®¹ä»¥å‰çš„ä»£ç ï¼Œ`typeof null`è¿”å›ž`object`å°±æ²¡æ³•æ”¹å˜äº†ã€‚


## null, undefined å’Œå¸ƒå°”å€¼

### 1. null å’Œ undefined 

#### 1.1 æ¦‚è¿° 

`null`ä¸Ž`undefined`éƒ½å¯ä»¥è¡¨ç¤ºâ€œæ²¡æœ‰â€ï¼Œå«ä¹‰éžå¸¸ç›¸ä¼¼ã€‚å°†ä¸€ä¸ªå˜é‡èµ‹å€¼ä¸º`undefined`æˆ–`null`ï¼Œè€å®žè¯´ï¼Œè¯­æ³•æ•ˆæžœå‡ ä¹Žæ²¡åŒºåˆ«ã€‚

```
var a = undefined;
// æˆ–è€…
var a = null;
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`a`åˆ†åˆ«è¢«èµ‹å€¼ä¸º`undefined`å’Œ`null`ï¼Œè¿™ä¸¤ç§å†™æ³•çš„æ•ˆæžœå‡ ä¹Žç­‰ä»·ã€‚

åœ¨ifè¯­å¥ä¸­ï¼Œå®ƒä»¬éƒ½ä¼šè¢«è‡ªåŠ¨è½¬ä¸º`false`ï¼Œç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰ç”šè‡³ç›´æŽ¥æŠ¥å‘Šä¸¤è€…ç›¸ç­‰ã€‚

```
if (!undefined) {
  console.log('undefined is false');
}
// undefined is false

if (!null) {
  console.log('null is false');
}
// null is false

undefined == null
// true
```

ä»Žä¸Šé¢ä»£ç å¯è§ï¼Œä¸¤è€…çš„è¡Œä¸ºæ˜¯ä½•ç­‰ç›¸ä¼¼ï¼è°·æ­Œå…¬å¸å¼€å‘çš„ JavaScript è¯­è¨€çš„æ›¿ä»£å“ Dart è¯­è¨€ï¼Œå°±æ˜Žç¡®è§„å®šåªæœ‰`null`ï¼Œæ²¡æœ‰`undefined`ï¼

æ—¢ç„¶å«ä¹‰ä¸Žç”¨æ³•éƒ½å·®ä¸å¤šï¼Œä¸ºä»€ä¹ˆè¦åŒæ—¶è®¾ç½®ä¸¤ä¸ªè¿™æ ·çš„å€¼ï¼Œè¿™ä¸æ˜¯æ— ç«¯å¢žåŠ å¤æ‚åº¦ï¼Œä»¤åˆå­¦è€…å›°æ‰°å—ï¼Ÿè¿™ä¸ŽåŽ†å²åŽŸå› æœ‰å…³ã€‚

1995å¹´ JavaScript è¯žç”Ÿæ—¶ï¼Œæœ€åˆåƒ Java ä¸€æ ·ï¼Œåªè®¾ç½®äº†`null`è¡¨ç¤º"æ— "ã€‚æ ¹æ® C è¯­è¨€çš„ä¼ ç»Ÿï¼Œ`null`å¯ä»¥è‡ªåŠ¨è½¬ä¸º0ã€‚

```
Number(null) // 0
5 + null // 5
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`null`è½¬ä¸ºæ•°å­—æ—¶ï¼Œè‡ªåŠ¨å˜æˆ0ã€‚

ä½†æ˜¯ï¼ŒJavaScript çš„è®¾è®¡è€… Brendan Eichï¼Œè§‰å¾—è¿™æ ·åšè¿˜ä¸å¤Ÿã€‚é¦–å…ˆï¼Œç¬¬ä¸€ç‰ˆçš„ JavaScript é‡Œé¢ï¼Œ`null`å°±åƒåœ¨ Java é‡Œä¸€æ ·ï¼Œè¢«å½“æˆä¸€ä¸ªå¯¹è±¡ï¼ŒBrendan Eich è§‰å¾—è¡¨ç¤ºâ€œæ— â€çš„å€¼æœ€å¥½ä¸æ˜¯å¯¹è±¡ã€‚å…¶æ¬¡ï¼Œé‚£æ—¶çš„ JavaScript ä¸åŒ…æ‹¬é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒBrendan Eich è§‰å¾—ï¼Œå¦‚æžœnullè‡ªåŠ¨è½¬ä¸º0ï¼Œå¾ˆä¸å®¹æ˜“å‘çŽ°é”™è¯¯ã€‚

å› æ­¤ï¼Œä»–åˆè®¾è®¡äº†ä¸€ä¸ª`undefined`ã€‚åŒºåˆ«æ˜¯è¿™æ ·çš„ï¼š`null`æ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€œç©ºâ€çš„å¯¹è±¡ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º0ï¼›`undefined`æ˜¯ä¸€ä¸ªè¡¨ç¤º"æ­¤å¤„æ— å®šä¹‰"çš„åŽŸå§‹å€¼ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º`NaN`ã€‚

```
Number(undefined) // NaN
5 + undefined // NaN
```

#### 1.2 ç”¨æ³•å’Œå«ä¹‰

å¯¹äºŽ`null`å’Œ`undefined`ï¼Œå¤§è‡´å¯ä»¥åƒä¸‹é¢è¿™æ ·ç†è§£ã€‚

`null`è¡¨ç¤ºç©ºå€¼ï¼Œå³è¯¥å¤„çš„å€¼çŽ°åœ¨ä¸ºç©ºã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼ŒæŸä¸ªå‚æ•°æœªè®¾ç½®ä»»ä½•å€¼ï¼Œè¿™æ—¶å°±å¯ä»¥ä¼ å…¥`null`ï¼Œè¡¨ç¤ºè¯¥å‚æ•°ä¸ºç©ºã€‚æ¯”å¦‚ï¼ŒæŸä¸ªå‡½æ•°æŽ¥å—å¼•æ“ŽæŠ›å‡ºçš„é”™è¯¯ä½œä¸ºå‚æ•°ï¼Œå¦‚æžœè¿è¡Œè¿‡ç¨‹ä¸­æœªå‡ºé”™ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°±ä¼šä¼ å…¥`null`ï¼Œè¡¨ç¤ºæœªå‘ç”Ÿé”™è¯¯ã€‚

`undefined`è¡¨ç¤ºâ€œæœªå®šä¹‰â€ï¼Œä¸‹é¢æ˜¯è¿”å›ž`undefined`çš„å…¸åž‹åœºæ™¯ã€‚

```
// å˜é‡å£°æ˜Žäº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼
var i;
i // undefined

// è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äºŽ undefined
function f(x) {
  return x;
}
f() // undefined

// å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±žæ€§
var  o = new Object();
o.p // undefined

// å‡½æ•°æ²¡æœ‰è¿”å›žå€¼æ—¶ï¼Œé»˜è®¤è¿”å›ž undefined
function f() {}
f() // undefined

```

### 2. å¸ƒå°”å€¼

å¸ƒå°”å€¼ä»£è¡¨â€œçœŸâ€å’Œâ€œå‡â€ä¸¤ä¸ªçŠ¶æ€ã€‚â€œçœŸâ€ç”¨å…³é”®å­—`true`è¡¨ç¤ºï¼Œâ€œå‡â€ç”¨å…³é”®å­—`false`è¡¨ç¤ºã€‚å¸ƒå°”å€¼åªæœ‰è¿™ä¸¤ä¸ªå€¼ã€‚

ä¸‹åˆ—è¿ç®—ç¬¦ä¼šè¿”å›žå¸ƒå°”å€¼ï¼š

- ä¸¤å…ƒé€»è¾‘è¿ç®—ç¬¦ï¼š` &&` (And)ï¼Œ`||` (Or)
-   å‰ç½®é€»è¾‘è¿ç®—ç¬¦ï¼š `! `(Not)
- ç›¸ç­‰è¿ç®—ç¬¦ï¼š`===`ï¼Œ`!==`ï¼Œ`==`ï¼Œ`!=`
-  æ¯”è¾ƒè¿ç®—ç¬¦ï¼š`>`ï¼Œ`>=`ï¼Œ`<`ï¼Œ`<=`

å¦‚æžœ JavaScript é¢„æœŸæŸä¸ªä½ç½®åº”è¯¥æ˜¯å¸ƒå°”å€¼ï¼Œä¼šå°†è¯¥ä½ç½®ä¸ŠçŽ°æœ‰çš„å€¼è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚è½¬æ¢è§„åˆ™æ˜¯é™¤äº†ä¸‹é¢å…­ä¸ªå€¼è¢«è½¬ä¸º`false`ï¼Œå…¶ä»–å€¼éƒ½è§†ä¸º`true`ã€‚

- undefined
- null
- false
- 0
- NaN
- `""`æˆ–`''`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰

å¸ƒå°”å€¼å¾€å¾€ç”¨äºŽç¨‹åºæµç¨‹çš„æŽ§åˆ¶ï¼Œè¯·çœ‹ä¸€ä¸ªä¾‹å­ã€‚

```
if ('') {
  console.log('true');
}
// æ²¡æœ‰ä»»ä½•è¾“å‡º
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`if`å‘½ä»¤åŽé¢çš„åˆ¤æ–­æ¡ä»¶ï¼Œé¢„æœŸåº”è¯¥æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œæ‰€ä»¥ JavaScript è‡ªåŠ¨å°†ç©ºå­—ç¬¦ä¸²ï¼Œè½¬ä¸ºå¸ƒå°”å€¼`false`ï¼Œå¯¼è‡´ç¨‹åºä¸ä¼šè¿›å…¥ä»£ç å—ï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•è¾“å‡ºã€‚

**æ³¨æ„ï¼Œç©ºæ•°ç»„ï¼ˆ[]ï¼‰å’Œç©ºå¯¹è±¡ï¼ˆ{}ï¼‰å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œéƒ½æ˜¯trueã€‚**

```
if ([]) {
  console.log('true');
}
// true

if ({}) {
  console.log('true');
}
// true
```

## æ•°å€¼

### 1. æ¦‚è¿°

#### 1.1 æ•´æ•°å’Œæµ®ç‚¹æ•°

JavaScript å†…éƒ¨ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯ä»¥64ä½æµ®ç‚¹æ•°å½¢å¼å‚¨å­˜ï¼Œå³ä½¿æ•´æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ‰€ä»¥ï¼Œ1ä¸Ž1.0æ˜¯ç›¸åŒçš„ï¼Œæ˜¯åŒä¸€ä¸ªæ•°ã€‚

```
1 === 1.0 // true
```

è¿™å°±æ˜¯è¯´ï¼ŒJavaScript è¯­è¨€çš„åº•å±‚æ ¹æœ¬æ²¡æœ‰æ•´æ•°ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯å°æ•°ï¼ˆ64ä½æµ®ç‚¹æ•°ï¼‰ã€‚å®¹æ˜“é€ æˆæ··æ·†çš„æ˜¯ï¼ŒæŸäº›è¿ç®—åªæœ‰æ•´æ•°æ‰èƒ½å®Œæˆï¼Œæ­¤æ—¶ JavaScript ä¼šè‡ªåŠ¨æŠŠ64ä½æµ®ç‚¹æ•°ï¼Œè½¬æˆ32ä½æ•´æ•°ï¼Œç„¶åŽå†è¿›è¡Œè¿ç®—ã€‚

ç”±äºŽæµ®ç‚¹æ•°ä¸æ˜¯ç²¾ç¡®çš„å€¼ï¼Œæ‰€ä»¥æ¶‰åŠå°æ•°çš„æ¯”è¾ƒå’Œè¿ç®—è¦ç‰¹åˆ«å°å¿ƒã€‚

```
0.1 + 0.2 === 0.3
// false

0.3 / 0.1
// 2.9999999999999996

(0.3 - 0.2) === (0.2 - 0.1)
// false
```

#### 1.2 æ•°å€¼ç²¾åº¦

æ ¹æ®å›½é™…æ ‡å‡† IEEE 754ï¼ŒJavaScript æµ®ç‚¹æ•°çš„64ä¸ªäºŒè¿›åˆ¶ä½ï¼Œä»Žæœ€å·¦è¾¹å¼€å§‹ï¼Œæ˜¯è¿™æ ·ç»„æˆçš„ã€‚

- ç¬¬1ä½ï¼šç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°
- ç¬¬2ä½åˆ°ç¬¬12ä½ï¼ˆå…±11ä½ï¼‰ï¼šæŒ‡æ•°éƒ¨åˆ†
- ç¬¬13ä½åˆ°ç¬¬64ä½ï¼ˆå…±52ä½ï¼‰ï¼šå°æ•°éƒ¨åˆ†ï¼ˆå³æœ‰æ•ˆæ•°å­—ï¼‰

ç¬¦å·ä½å†³å®šäº†ä¸€ä¸ªæ•°çš„æ­£è´Ÿï¼ŒæŒ‡æ•°éƒ¨åˆ†å†³å®šäº†æ•°å€¼çš„å¤§å°ï¼Œå°æ•°éƒ¨åˆ†å†³å®šäº†æ•°å€¼çš„ç²¾åº¦ã€‚

æŒ‡æ•°éƒ¨åˆ†ä¸€å…±æœ‰11ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå› æ­¤å¤§å°èŒƒå›´å°±æ˜¯0åˆ°2047ã€‚IEEE 754 è§„å®šï¼Œå¦‚æžœæŒ‡æ•°éƒ¨åˆ†çš„å€¼åœ¨0åˆ°2047ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œé‚£ä¹ˆæœ‰æ•ˆæ•°å­—çš„ç¬¬ä¸€ä½é»˜è®¤æ€»æ˜¯1ï¼Œä¸ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰æ•ˆæ•°å­—è¿™æ—¶æ€»æ˜¯1.xx...xxçš„å½¢å¼ï¼Œå…¶ä¸­xx..xxçš„éƒ¨åˆ†ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ï¼Œæœ€é•¿å¯èƒ½ä¸º52ä½ã€‚å› æ­¤ï¼ŒJavaScript æä¾›çš„æœ‰æ•ˆæ•°å­—æœ€é•¿ä¸º53ä¸ªäºŒè¿›åˆ¶ä½

```
(-1)^ç¬¦å·ä½ * 1.xx...xx * 2^æŒ‡æ•°éƒ¨åˆ†
```

ä¸Šé¢å…¬å¼æ˜¯æ­£å¸¸æƒ…å†µä¸‹ï¼ˆæŒ‡æ•°éƒ¨åˆ†åœ¨0åˆ°2047ä¹‹é—´ï¼‰ï¼Œä¸€ä¸ªæ•°åœ¨ JavaScript å†…éƒ¨å®žé™…çš„è¡¨ç¤ºå½¢å¼ã€‚

ç²¾åº¦æœ€å¤šåªèƒ½åˆ°53ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿™æ„å‘³ç€ï¼Œç»å¯¹å€¼å°äºŽ2çš„53æ¬¡æ–¹çš„æ•´æ•°ï¼Œå³-253åˆ°253ï¼Œéƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚

```
Math.pow(2, 53)
// 9007199254740992
 
Math.pow(2, 53) + 1
// 9007199254740992

Math.pow(2, 53) + 2
// 9007199254740994

Math.pow(2, 53) + 3
// 9007199254740996

Math.pow(2, 53) + 4
// 9007199254740996
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¤§äºŽ2çš„53æ¬¡æ–¹ä»¥åŽï¼Œæ•´æ•°è¿ç®—çš„ç»“æžœå¼€å§‹å‡ºçŽ°é”™è¯¯ã€‚æ‰€ä»¥ï¼Œå¤§äºŽ2çš„53æ¬¡æ–¹çš„æ•°å€¼ï¼Œéƒ½æ— æ³•ä¿æŒç²¾åº¦ã€‚ç”±äºŽ2çš„53æ¬¡æ–¹æ˜¯ä¸€ä¸ª16ä½çš„åè¿›åˆ¶æ•°å€¼ï¼Œæ‰€ä»¥ç®€å•çš„æ³•åˆ™å°±æ˜¯ï¼ŒJavaScript å¯¹15ä½çš„åè¿›åˆ¶æ•°éƒ½å¯ä»¥ç²¾ç¡®å¤„ç†ã€‚

```
Math.pow(2, 53)
// 9007199254740992

// å¤šå‡ºçš„ä¸‰ä¸ªæœ‰æ•ˆæ•°å­—ï¼Œå°†æ— æ³•ä¿å­˜
9007199254740992111
// 9007199254740992000
```

ä¸Šé¢ç¤ºä¾‹è¡¨æ˜Žï¼Œå¤§äºŽ2çš„53æ¬¡æ–¹ä»¥åŽï¼Œå¤šå‡ºæ¥çš„æœ‰æ•ˆæ•°å­—ï¼ˆæœ€åŽä¸‰ä½çš„111ï¼‰éƒ½ä¼šæ— æ³•ä¿å­˜ï¼Œå˜æˆ0ã€‚


#### 1.3 æ•°å€¼èŒƒå›´

æ ¹æ®æ ‡å‡†ï¼Œ64ä½æµ®ç‚¹æ•°çš„æŒ‡æ•°éƒ¨åˆ†çš„é•¿åº¦æ˜¯11ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ„å‘³ç€æŒ‡æ•°éƒ¨åˆ†çš„æœ€å¤§å€¼æ˜¯2047ï¼ˆ2çš„11æ¬¡æ–¹å‡1ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ64ä½æµ®ç‚¹æ•°çš„æŒ‡æ•°éƒ¨åˆ†çš„å€¼æœ€å¤§ä¸º2047ï¼Œåˆ†å‡ºä¸€åŠè¡¨ç¤ºè´Ÿæ•°ï¼Œåˆ™ JavaScript èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ä¸º21024åˆ°2-1023ï¼ˆå¼€åŒºé—´ï¼‰ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•°æ— æ³•è¡¨ç¤ºã€‚

å¦‚æžœä¸€ä¸ªæ•°å¤§äºŽç­‰äºŽ2çš„1024æ¬¡æ–¹ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿâ€œæ­£å‘æº¢å‡ºâ€ï¼Œå³ JavaScript æ— æ³•è¡¨ç¤ºè¿™ä¹ˆå¤§çš„æ•°ï¼Œè¿™æ—¶å°±ä¼šè¿”å›ž`Infinity`ã€‚

```
Math.pow(2, 1024) // Infinity
```

å¦‚æžœä¸€ä¸ªæ•°å°äºŽç­‰äºŽ2çš„-1075æ¬¡æ–¹ï¼ˆæŒ‡æ•°éƒ¨åˆ†æœ€å°å€¼-1023ï¼Œå†åŠ ä¸Šå°æ•°éƒ¨åˆ†çš„52ä½ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿä¸ºâ€œè´Ÿå‘æº¢å‡ºâ€ï¼Œå³ JavaScript æ— æ³•è¡¨ç¤ºè¿™ä¹ˆå°çš„æ•°ï¼Œè¿™æ—¶ä¼šç›´æŽ¥è¿”å›ž0ã€‚

```
Math.pow(2, -1075) // 0
```

ä¸‹é¢æ˜¯ä¸€ä¸ªå®žé™…çš„ä¾‹å­

```
var x = 0.5;

for(var i = 0; i < 25; i++) {
  x = x * x;
}

x // 0
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹0.5è¿žç»­åš25æ¬¡å¹³æ–¹ï¼Œç”±äºŽæœ€åŽç»“æžœå¤ªæŽ¥è¿‘0ï¼Œè¶…å‡ºäº†å¯è¡¨ç¤ºçš„èŒƒå›´ï¼ŒJavaScript å°±ç›´æŽ¥å°†å…¶è½¬ä¸º0ã€‚

JavaScript æä¾›`Number`å¯¹è±¡çš„`MAX_VALUE`å’Œ`MIN_VALUE`å±žæ€§ï¼Œè¿”å›žå¯ä»¥è¡¨ç¤ºçš„å…·ä½“çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚

### 2. æ•°å€¼çš„è¡¨ç¤ºæ³•

JavaScript çš„æ•°å€¼æœ‰å¤šç§è¡¨ç¤ºæ–¹æ³•ï¼Œå¯ä»¥ç”¨å­—é¢å½¢å¼ç›´æŽ¥è¡¨ç¤ºï¼Œæ¯”å¦‚35ï¼ˆåè¿›åˆ¶ï¼‰å’Œ0xFFï¼ˆåå…­è¿›åˆ¶ï¼‰ã€‚

æ•°å€¼ä¹Ÿå¯ä»¥é‡‡ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œä¸‹é¢æ˜¯å‡ ä¸ªç§‘å­¦è®¡æ•°æ³•çš„ä¾‹å­ã€‚

```
123e3 // 123000
123e-3 // 0.123
-3.1E+12
.1e-23
```

ç§‘å­¦è®¡æ•°æ³•å…è®¸å­—æ¯eæˆ–Eçš„åŽé¢ï¼Œè·Ÿç€ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¿™ä¸ªæ•°å€¼çš„æŒ‡æ•°éƒ¨åˆ†ã€‚

ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼ŒJavaScript ä¼šè‡ªåŠ¨å°†æ•°å€¼è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œå…¶ä»–æƒ…å†µéƒ½é‡‡ç”¨å­—é¢å½¢å¼ç›´æŽ¥è¡¨ç¤ºã€‚

ï¼ˆ1ï¼‰å°æ•°ç‚¹å‰çš„æ•°å­—å¤šäºŽ21ä½ã€‚

```
1234567890123456789012
// 1.2345678901234568e+21

123456789012345678901
// 123456789012345680000
```

ï¼ˆ2ï¼‰å°æ•°ç‚¹åŽçš„é›¶å¤šäºŽ5ä¸ªã€‚

```
// å°æ•°ç‚¹åŽç´§è·Ÿ5ä¸ªä»¥ä¸Šçš„é›¶ï¼Œ
// å°±è‡ªåŠ¨è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•
0.0000003 // 3e-7

// å¦åˆ™ï¼Œå°±ä¿æŒåŽŸæ¥çš„å­—é¢å½¢å¼
0.000003 // 0.000003
```

### 3. æ•°å€¼çš„è¿›åˆ¶

ä½¿ç”¨å­—é¢é‡ï¼ˆliteralï¼‰ç›´æŽ¥è¡¨ç¤ºä¸€ä¸ªæ•°å€¼æ—¶ï¼ŒJavaScript å¯¹æ•´æ•°æä¾›å››ç§è¿›åˆ¶çš„è¡¨ç¤ºæ–¹æ³•ï¼šåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶ã€äºŒè¿›åˆ¶ã€‚

- åè¿›åˆ¶ï¼šæ²¡æœ‰å‰å¯¼0çš„æ•°å€¼ã€‚
- å…«è¿›åˆ¶ï¼šæœ‰å‰ç¼€0oæˆ–0Oçš„æ•°å€¼ï¼Œæˆ–è€…æœ‰å‰å¯¼0ã€ä¸”åªç”¨åˆ°0-7çš„å…«ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—çš„æ•°å€¼ã€‚
- åå…­è¿›åˆ¶ï¼šæœ‰å‰ç¼€0xæˆ–0Xçš„æ•°å€¼ã€‚
- äºŒè¿›åˆ¶ï¼šæœ‰å‰ç¼€0bæˆ–0Bçš„æ•°å€¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒJavaScript å†…éƒ¨ä¼šè‡ªåŠ¨å°†å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚

```
0xff // 255
0o377 // 255
0b11 // 3
```

å¦‚æžœå…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶çš„æ•°å€¼é‡Œé¢ï¼Œå‡ºçŽ°ä¸å±žäºŽè¯¥è¿›åˆ¶çš„æ•°å­—ï¼Œå°±ä¼šæŠ¥é”™ã€‚

```
0xzz // æŠ¥é”™
0o88 // æŠ¥é”™
0b22 // æŠ¥é”™
```

ä¸Šé¢ä»£ç ä¸­ï¼Œåå…­è¿›åˆ¶å‡ºçŽ°äº†å­—æ¯zã€å…«è¿›åˆ¶å‡ºçŽ°æ•°å­—8ã€äºŒè¿›åˆ¶å‡ºçŽ°æ•°å­—2ï¼Œå› æ­¤æŠ¥é”™ã€‚

é€šå¸¸æ¥è¯´ï¼Œæœ‰å‰å¯¼0çš„æ•°å€¼ä¼šè¢«è§†ä¸ºå…«è¿›åˆ¶ï¼Œä½†æ˜¯å¦‚æžœå‰å¯¼0åŽé¢æœ‰æ•°å­—8å’Œ9ï¼Œåˆ™è¯¥æ•°å€¼è¢«è§†ä¸ºåè¿›åˆ¶ã€‚

```
0888 // 888
0777 // 511
```

å‰å¯¼0è¡¨ç¤ºå…«è¿›åˆ¶ï¼Œå¤„ç†æ—¶å¾ˆå®¹æ˜“é€ æˆæ··ä¹±ã€‚ES5 çš„ä¸¥æ ¼æ¨¡å¼å’Œ ES6ï¼Œå·²ç»åºŸé™¤äº†è¿™ç§è¡¨ç¤ºæ³•ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸ºäº†å…¼å®¹ä»¥å‰çš„ä»£ç ï¼Œç›®å‰è¿˜ç»§ç»­æ”¯æŒè¿™ç§è¡¨ç¤ºæ³•ã€‚


### 4.ç‰¹æ®Šæ•°å€¼

JavaScript æä¾›äº†å‡ ä¸ªç‰¹æ®Šçš„æ•°å€¼ã€‚

#### 4.1 æ­£é›¶å’Œè´Ÿé›¶

å‰é¢è¯´è¿‡ï¼ŒJavaScript çš„64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ï¼Œæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶ä½æ˜¯ç¬¦å·ä½ã€‚è¿™æ„å‘³ç€ï¼Œä»»ä½•ä¸€ä¸ªæ•°éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„è´Ÿå€¼ï¼Œå°±è¿ž0ä¹Ÿä¸ä¾‹å¤–ã€‚

JavaScript å†…éƒ¨å®žé™…ä¸Šå­˜åœ¨2ä¸ª0ï¼šä¸€ä¸ªæ˜¯+0ï¼Œä¸€ä¸ªæ˜¯-0ï¼ŒåŒºåˆ«å°±æ˜¯64ä½æµ®ç‚¹æ•°è¡¨ç¤ºæ³•çš„ç¬¦å·ä½ä¸åŒã€‚å®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚

```
-0 === +0 // true
0 === -0 // true
0 === +0 // true
```

å‡ ä¹Žæ‰€æœ‰åœºåˆï¼Œæ­£é›¶å’Œè´Ÿé›¶éƒ½ä¼šè¢«å½“ä½œæ­£å¸¸çš„0ã€‚

```
+0 // 0
-0 // 0
(-0).toString() // '0'
(+0).toString() // '0'
```

å”¯ä¸€æœ‰åŒºåˆ«çš„åœºåˆæ˜¯ï¼Œ+0æˆ–-0å½“ä½œåˆ†æ¯ï¼Œè¿”å›žçš„å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚

```
(1 / +0) === (1 / -0) // false
```

ä¸Šé¢çš„ä»£ç ä¹‹æ‰€ä»¥å‡ºçŽ°è¿™æ ·ç»“æžœï¼Œæ˜¯å› ä¸ºé™¤ä»¥æ­£é›¶å¾—åˆ°`+Infinity`ï¼Œé™¤ä»¥è´Ÿé›¶å¾—åˆ°`-Infinity`ï¼Œè¿™ä¸¤è€…æ˜¯ä¸ç›¸ç­‰çš„ï¼ˆå…³äºŽ`Infinity`è¯¦è§ä¸‹æ–‡ï¼‰ã€‚

#### 4.2 NaN

##### 4.2.1 å«ä¹‰

`NaN`æ˜¯ JavaScript çš„ç‰¹æ®Šå€¼ï¼Œè¡¨ç¤ºâ€œéžæ•°å­—â€ï¼ˆNot a Numberï¼‰ï¼Œä¸»è¦å‡ºçŽ°åœ¨å°†å­—ç¬¦ä¸²è§£æžæˆæ•°å­—å‡ºé”™çš„åœºåˆã€‚

```
5 - 'x' // NaN
```

ä¸Šé¢ä»£ç è¿è¡Œæ—¶ï¼Œä¼šè‡ªåŠ¨å°†å­—ç¬¦ä¸²`x`è½¬ä¸ºæ•°å€¼ï¼Œä½†æ˜¯ç”±äºŽ`x`ä¸æ˜¯æ•°å€¼ï¼Œæ‰€ä»¥æœ€åŽå¾—åˆ°ç»“æžœä¸º`NaN`ï¼Œè¡¨ç¤ºå®ƒæ˜¯â€œéžæ•°å­—â€ï¼ˆ`NaN`ï¼‰ã€‚

å¦å¤–ï¼Œä¸€äº›æ•°å­¦å‡½æ•°çš„è¿ç®—ç»“æžœä¼šå‡ºçŽ°NaNã€‚

```
Math.acos(2) // NaN
Math.log(-1) // NaN
Math.sqrt(-1) // NaN
```

0é™¤ä»¥0ä¹Ÿä¼šå¾—åˆ°NaNã€‚

```
0 / 0 // NaN
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`NaN`ä¸æ˜¯ç‹¬ç«‹çš„æ•°æ®ç±»åž‹ï¼Œè€Œæ˜¯ä¸€ä¸ªç‰¹æ®Šæ•°å€¼ï¼Œå®ƒçš„æ•°æ®ç±»åž‹ä¾ç„¶å±žäºŽ`Number`ï¼Œä½¿ç”¨`typeof`è¿ç®—ç¬¦å¯ä»¥çœ‹å¾—å¾ˆæ¸…æ¥šã€‚

```
typeof NaN // 'number'
```

##### 4.2.2 è¿ç®—è§„åˆ™

`NaN`ä¸ç­‰äºŽä»»ä½•å€¼ï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«ã€‚

```
NaN === NaN // false
```

æ•°ç»„çš„`indexOf`æ–¹æ³•å†…éƒ¨ä½¿ç”¨çš„æ˜¯ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•å¯¹NaNä¸æˆç«‹ã€‚

```
[NaN].indexOf(NaN) // -1
```

NaNåœ¨å¸ƒå°”è¿ç®—æ—¶è¢«å½“ä½œfalseã€‚

```
Boolean(NaN) // false
```

`NaN`ä¸Žä»»ä½•æ•°ï¼ˆåŒ…æ‹¬å®ƒè‡ªå·±ï¼‰çš„è¿ç®—ï¼Œå¾—åˆ°çš„éƒ½æ˜¯`NaN`ã€‚

```
NaN + 32 // NaN
NaN - 32 // NaN
NaN * 32 // NaN
NaN / 32 // NaN
```

#### 4.3 Infinity

##### 4.3.1 å«ä¹‰

`Infinity`è¡¨ç¤ºâ€œæ— ç©·â€ï¼Œç”¨æ¥è¡¨ç¤ºä¸¤ç§åœºæ™¯ã€‚ä¸€ç§æ˜¯ä¸€ä¸ªæ­£çš„æ•°å€¼å¤ªå¤§ï¼Œæˆ–ä¸€ä¸ªè´Ÿçš„æ•°å€¼å¤ªå°ï¼Œæ— æ³•è¡¨ç¤ºï¼›å¦ä¸€ç§æ˜¯éž0æ•°å€¼é™¤ä»¥0ï¼Œå¾—åˆ°`Infinity`ã€‚

```
// åœºæ™¯ä¸€
Math.pow(2, 1024)
// Infinity

// åœºæ™¯äºŒ
0 / 0 // NaN
1 / 0 // Infinity
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€ä¸ªåœºæ™¯æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æžœå¤ªå¤§ï¼Œè¶…å‡ºäº†èƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´ï¼Œå› æ­¤è¿”å›ž`Infinity`ã€‚ç¬¬äºŒä¸ªåœºæ™¯æ˜¯0é™¤ä»¥0ä¼šå¾—åˆ°`NaN`ï¼Œè€Œéž0æ•°å€¼é™¤ä»¥0ï¼Œä¼šè¿”å›ž`Infinity`ã€‚

`Infinity`æœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œ`Infinity`è¡¨ç¤ºæ­£çš„æ— ç©·ï¼Œ`-Infinity`è¡¨ç¤ºè´Ÿçš„æ— ç©·ã€‚

```
Infinity === -Infinity // false

1 / -0 // -Infinity
-1 / -0 // Infinity
```

ä¸Šé¢ä»£ç ä¸­ï¼Œéžé›¶æ­£æ•°é™¤ä»¥-0ï¼Œä¼šå¾—åˆ°`-Infinity`ï¼Œè´Ÿæ•°é™¤ä»¥-0ï¼Œä¼šå¾—åˆ°`Infinity`ã€‚

ç”±äºŽæ•°å€¼æ­£å‘æº¢å‡ºï¼ˆoverflowï¼‰ã€è´Ÿå‘æº¢å‡ºï¼ˆunderflowï¼‰å’Œè¢«0é™¤ï¼ŒJavaScript éƒ½ä¸æŠ¥é”™ï¼Œæ‰€ä»¥å•çº¯çš„æ•°å­¦è¿ç®—å‡ ä¹Žæ²¡æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯ã€‚

`Infinity`å¤§äºŽä¸€åˆ‡æ•°å€¼ï¼ˆé™¤äº†`NaN`ï¼‰ï¼Œ`-Infinity`å°äºŽä¸€åˆ‡æ•°å€¼ï¼ˆé™¤äº†`NaN`ï¼‰ã€‚

```
Infinity > 1000 // true
-Infinity < -1000 // true
```

Infinityä¸ŽNaNæ¯”è¾ƒï¼Œæ€»æ˜¯è¿”å›žfalseã€‚

```
Infinity > NaN // false
-Infinity > NaN // false

Infinity < NaN // false
-Infinity < NaN // false
```

##### 4.3.2 è¿ç®—è§„åˆ™

`Infinity`çš„å››åˆ™è¿ç®—ï¼Œç¬¦åˆæ— ç©·çš„æ•°å­¦è®¡ç®—è§„åˆ™ã€‚

```
5 * Infinity // Infinity
5 - Infinity // -Infinity
Infinity / 5 // Infinity
5 / Infinity // 0
```

0ä¹˜ä»¥`Infinity`ï¼Œè¿”å›ž`NaN`ï¼›0é™¤ä»¥`Infinity`ï¼Œè¿”å›ž0ï¼›`Infinity`é™¤ä»¥0ï¼Œè¿”å›ž`Infinity`ã€‚

```
0 * Infinity // NaN
0 / Infinity // 0
Infinity / 0 // Infinity
```

`Infinity`åŠ ä¸Šæˆ–ä¹˜ä»¥`Infinity`ï¼Œè¿”å›žçš„è¿˜æ˜¯`Infinity`ã€‚

```
Infinity + Infinity // Infinity
Infinity * Infinity // Infinity
```

`Infinity`å‡åŽ»æˆ–é™¤ä»¥`Infinity`ï¼Œå¾—åˆ°`NaN`ã€‚

```
Infinity - Infinity // NaN
Infinity / Infinity // NaN
```

`Infinity`ä¸Ž`null`è®¡ç®—æ—¶ï¼Œ`null`ä¼šè½¬æˆ0ï¼Œç­‰åŒäºŽä¸Ž0çš„è®¡ç®—ã€‚

```
null * Infinity // NaN
null / Infinity // 0
Infinity / null // Infinity
```

`Infinity`ä¸Ž`undefined`è®¡ç®—ï¼Œè¿”å›žçš„éƒ½æ˜¯`NaN`ã€‚

```
undefined + Infinity // NaN
undefined - Infinity // NaN
undefined * Infinity // NaN
undefined / Infinity // NaN
Infinity / undefined // NaN
```

### 5. ä¸Žæ•°å€¼ç›¸å…³çš„å…¨å±€æ–¹æ³• 

#### 5.1 parseInt() 

##### 5.1.1 åŸºæœ¬ç”¨æ³•

`parseInt`æ–¹æ³•ç”¨äºŽå°†å­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°ã€‚

```
parseInt('123') // 123
```

å¦‚æžœå­—ç¬¦ä¸²å¤´éƒ¨æœ‰ç©ºæ ¼ï¼Œç©ºæ ¼ä¼šè¢«è‡ªåŠ¨åŽ»é™¤ã€‚

```
parseInt('   81') // 81
```

å¦‚æžœ`parseInt`çš„å‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå­—ç¬¦ä¸²å†è½¬æ¢ã€‚

```
parseInt(1.23) // 1
// ç­‰åŒäºŽ
parseInt('1.23') // 1
```

å­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°çš„æ—¶å€™ï¼Œæ˜¯ä¸€ä¸ªä¸ªå­—ç¬¦ä¾æ¬¡è½¬æ¢ï¼Œå¦‚æžœé‡åˆ°ä¸èƒ½è½¬ä¸ºæ•°å­—çš„å­—ç¬¦ï¼Œå°±ä¸å†è¿›è¡Œä¸‹åŽ»ï¼Œè¿”å›žå·²ç»è½¬å¥½çš„éƒ¨åˆ†ã€‚

```
parseInt('8a') // 8
parseInt('12**') // 12
parseInt('12.34') // 12
parseInt('15e2') // 15
parseInt('15px') // 15
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`parseInt`çš„å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œç»“æžœåªè¿”å›žå­—ç¬¦ä¸²å¤´éƒ¨å¯ä»¥è½¬ä¸ºæ•°å­—çš„éƒ¨åˆ†ã€‚

å¦‚æžœå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½è½¬åŒ–ä¸ºæ•°å­—ï¼ˆåŽé¢è·Ÿç€æ•°å­—çš„æ­£è´Ÿå·é™¤å¤–ï¼‰ï¼Œè¿”å›ž`NaN`ã€‚

```
parseInt('abc') // NaN
parseInt('.3') // NaN
parseInt('') // NaN
parseInt('+') // NaN
parseInt('+1') // 1
```

æ‰€ä»¥ï¼Œ`parseInt`çš„è¿”å›žå€¼åªæœ‰ä¸¤ç§å¯èƒ½ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªåè¿›åˆ¶æ•´æ•°ï¼Œè¦ä¹ˆæ˜¯`NaN`ã€‚

å¦‚æžœå­—ç¬¦ä¸²ä»¥`0x`æˆ–`0X`å¼€å¤´ï¼Œ`parseInt`ä¼šå°†å…¶æŒ‰ç…§åå…­è¿›åˆ¶æ•°è§£æžã€‚

```
parseInt('0x10') // 16
```

å¦‚æžœå­—ç¬¦ä¸²ä»¥0å¼€å¤´ï¼Œå°†å…¶æŒ‰ç…§10è¿›åˆ¶è§£æžã€‚

```
parseInt('011') // 11
```

å¯¹äºŽé‚£äº›ä¼šè‡ªåŠ¨è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„æ•°å­—ï¼Œ`parseInt`ä¼šå°†ç§‘å­¦è®¡æ•°æ³•çš„è¡¨ç¤ºæ–¹æ³•è§†ä¸ºå­—ç¬¦ä¸²ï¼Œå› æ­¤å¯¼è‡´ä¸€äº›å¥‡æ€ªçš„ç»“æžœã€‚

```
parseInt(1000000000000000000000.5) // 1
// ç­‰åŒäºŽ
parseInt('1e+21') // 1

parseInt(0.0000008) // 8
// ç­‰åŒäºŽ
parseInt('8e-7') // 8
```

##### 5.1.2 è¿›åˆ¶è½¬æ¢

`parseInt`æ–¹æ³•è¿˜å¯ä»¥æŽ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼ˆ2åˆ°36ä¹‹é—´ï¼‰ï¼Œè¡¨ç¤ºè¢«è§£æžçš„å€¼çš„è¿›åˆ¶ï¼Œè¿”å›žè¯¥å€¼å¯¹åº”çš„åè¿›åˆ¶æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`parseInt`çš„ç¬¬äºŒä¸ªå‚æ•°ä¸º10ï¼Œå³é»˜è®¤æ˜¯åè¿›åˆ¶è½¬åè¿›åˆ¶ã€‚

```
parseInt('1000') // 1000
// ç­‰åŒäºŽ
parseInt('1000', 10) // 1000
```

ä¸‹é¢æ˜¯è½¬æ¢æŒ‡å®šè¿›åˆ¶çš„æ•°çš„ä¾‹å­ã€‚

```
parseInt('1000', 2) // 8
parseInt('1000', 6) // 216
parseInt('1000', 8) // 512
```

ä¸Šé¢ä»£ç ä¸­ï¼ŒäºŒè¿›åˆ¶ã€å…­è¿›åˆ¶ã€å…«è¿›åˆ¶çš„1000ï¼Œåˆ†åˆ«ç­‰äºŽåè¿›åˆ¶çš„8ã€216å’Œ512ã€‚è¿™æ„å‘³ç€ï¼Œå¯ä»¥ç”¨`parseInt`æ–¹æ³•è¿›è¡Œè¿›åˆ¶çš„è½¬æ¢ã€‚

å¦‚æžœç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯æ•°å€¼ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸ºä¸€ä¸ªæ•´æ•°ã€‚è¿™ä¸ªæ•´æ•°åªæœ‰åœ¨2åˆ°36ä¹‹é—´ï¼Œæ‰èƒ½å¾—åˆ°æœ‰æ„ä¹‰çš„ç»“æžœï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œåˆ™è¿”å›ž`NaN`ã€‚å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯0ã€`undefined`å’Œ`null`ï¼Œåˆ™ç›´æŽ¥å¿½ç•¥ã€‚

```
parseInt('10', 37) // NaN
parseInt('10', 1) // NaN
parseInt('10', 0) // 10
parseInt('10', null) // 10
parseInt('10', undefined) // 10
```

å¦‚æžœå­—ç¬¦ä¸²åŒ…å«å¯¹äºŽæŒ‡å®šè¿›åˆ¶æ— æ„ä¹‰çš„å­—ç¬¦ï¼Œåˆ™ä»Žæœ€é«˜ä½å¼€å§‹ï¼Œåªè¿”å›žå¯ä»¥è½¬æ¢çš„æ•°å€¼ã€‚å¦‚æžœæœ€é«˜ä½æ— æ³•è½¬æ¢ï¼Œåˆ™ç›´æŽ¥è¿”å›ž`NaN`ã€‚

```
parseInt('1546', 2) // 1
parseInt('546', 2) // NaN
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹äºŽäºŒè¿›åˆ¶æ¥è¯´ï¼Œ1æ˜¯æœ‰æ„ä¹‰çš„å­—ç¬¦ï¼Œ5ã€4ã€6éƒ½æ˜¯æ— æ„ä¹‰çš„å­—ç¬¦ï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œè¿”å›ž1ï¼Œç¬¬äºŒè¡Œè¿”å›ž`NaN`ã€‚

å‰é¢è¯´è¿‡ï¼Œå¦‚æžœ`parseInt`çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šè¢«å…ˆè½¬ä¸ºå­—ç¬¦ä¸²ã€‚è¿™ä¼šå¯¼è‡´ä¸€äº›ä»¤äººæ„å¤–çš„ç»“æžœã€‚

```
parseInt(0x11, 36) // 43
parseInt(0x11, 2) // 1

// ç­‰åŒäºŽ
parseInt(String(0x11), 36)
parseInt(String(0x11), 2)

// ç­‰åŒäºŽ
parseInt('17', 36)
parseInt('17', 2)
```

ä¸Šé¢ä»£ç ä¸­ï¼Œåå…­è¿›åˆ¶çš„0x11ä¼šè¢«å…ˆè½¬ä¸ºåè¿›åˆ¶çš„17ï¼Œå†è½¬ä¸ºå­—ç¬¦ä¸²ã€‚ç„¶åŽï¼Œå†ç”¨36è¿›åˆ¶æˆ–äºŒè¿›åˆ¶è§£è¯»å­—ç¬¦ä¸²17ï¼Œæœ€åŽè¿”å›žç»“æžœ43å’Œ1ã€‚

è¿™ç§å¤„ç†æ–¹å¼ï¼Œå¯¹äºŽå…«è¿›åˆ¶çš„å‰ç¼€0ï¼Œå°¤å…¶éœ€è¦æ³¨æ„ã€‚

```
parseInt(011, 2) // NaN

// ç­‰åŒäºŽ
parseInt(String(011), 2)

// ç­‰åŒäºŽ
parseInt(String(9), 2)
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€è¡Œçš„011ä¼šè¢«å…ˆè½¬ä¸ºå­—ç¬¦ä¸²9ï¼Œå› ä¸º9ä¸æ˜¯äºŒè¿›åˆ¶çš„æœ‰æ•ˆå­—ç¬¦ï¼Œæ‰€ä»¥è¿”å›ž`NaN`ã€‚å¦‚æžœç›´æŽ¥è®¡ç®—`parseInt('011', 2)`ï¼Œ011åˆ™æ˜¯ä¼šè¢«å½“ä½œäºŒè¿›åˆ¶å¤„ç†ï¼Œè¿”å›ž3ã€‚

JavaScript ä¸å†å…è®¸å°†å¸¦æœ‰å‰ç¼€0çš„æ•°å­—è§†ä¸ºå…«è¿›åˆ¶æ•°ï¼Œè€Œæ˜¯è¦æ±‚å¿½ç•¥è¿™ä¸ª0ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯å…¼å®¹æ€§ï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨å¹¶æ²¡æœ‰éƒ¨ç½²è¿™ä¸€æ¡è§„å®šã€‚

#### 5.2 parseFloat()

`parseFloat`æ–¹æ³•ç”¨äºŽå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸ºæµ®ç‚¹æ•°ã€‚

```
parseFloat('3.14') // 3.14
```

å¦‚æžœå­—ç¬¦ä¸²ç¬¦åˆç§‘å­¦è®¡æ•°æ³•ï¼Œåˆ™ä¼šè¿›è¡Œç›¸åº”çš„è½¬æ¢ã€‚

```
parseFloat('314e-2') // 3.14
parseFloat('0.0314E+2') // 3.14
```

å¦‚æžœå­—ç¬¦ä¸²åŒ…å«ä¸èƒ½è½¬ä¸ºæµ®ç‚¹æ•°çš„å­—ç¬¦ï¼Œåˆ™ä¸å†è¿›è¡Œå¾€åŽè½¬æ¢ï¼Œè¿”å›žå·²ç»è½¬å¥½çš„éƒ¨åˆ†ã€‚

```
parseFloat('3.14more non-digit characters') // 3.14
```

`parseFloat`æ–¹æ³•ä¼šè‡ªåŠ¨è¿‡æ»¤å­—ç¬¦ä¸²å‰å¯¼çš„ç©ºæ ¼ã€‚

```
parseFloat('\t\v\r12.34\n ') // 12.34
```

å¦‚æžœå‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ–è€…å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½è½¬åŒ–ä¸ºæµ®ç‚¹æ•°ï¼Œåˆ™è¿”å›ž`NaN`ã€‚

```
parseFloat([]) // NaN
parseFloat('FF2') // NaN
parseFloat('') // NaN
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå°¤å…¶å€¼å¾—æ³¨æ„ï¼Œ`parseFloat`ä¼šå°†ç©ºå­—ç¬¦ä¸²è½¬ä¸º`NaN`ã€‚

è¿™äº›ç‰¹ç‚¹ä½¿å¾—`parseFloat`çš„è½¬æ¢ç»“æžœä¸åŒäºŽ`Number`å‡½æ•°ã€‚

```
parseFloat(true)  // NaN
Number(true) // 1

parseFloat(null) // NaN
Number(null) // 0

parseFloat('') // NaN
Number('') // 0

parseFloat('123.45#') // 123.45
Number('123.45#') // NaN
```

#### 5.3 isNaN() 

`isNaN`æ–¹æ³•å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º`NaN`ã€‚

```
isNaN(NaN) // true
isNaN(123) // false
```

ä½†æ˜¯ï¼Œ`isNaN`åªå¯¹æ•°å€¼æœ‰æ•ˆï¼Œå¦‚æžœä¼ å…¥å…¶ä»–å€¼ï¼Œä¼šè¢«å…ˆè½¬æˆæ•°å€¼ã€‚æ¯”å¦‚ï¼Œä¼ å…¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²ä¼šè¢«å…ˆè½¬æˆ`NaN`ï¼Œæ‰€ä»¥æœ€åŽè¿”å›ž`true`ï¼Œè¿™ä¸€ç‚¹è¦ç‰¹åˆ«å¼•èµ·æ³¨æ„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`isNaN`ä¸º`true`çš„å€¼ï¼Œæœ‰å¯èƒ½ä¸æ˜¯`NaN`ï¼Œè€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```
isNaN('Hello') // true
// ç›¸å½“äºŽ
isNaN(Number('Hello')) // true
```

å‡ºäºŽåŒæ ·çš„åŽŸå› ï¼Œå¯¹äºŽå¯¹è±¡å’Œæ•°ç»„ï¼Œ`isNaN`ä¹Ÿè¿”å›ž`true`ã€‚

```
isNaN({}) // true
// ç­‰åŒäºŽ
isNaN(Number({})) // true

isNaN(['xzy']) // true
// ç­‰åŒäºŽ
isNaN(Number(['xzy'])) // true
```

ä½†æ˜¯ï¼Œå¯¹äºŽç©ºæ•°ç»„å’Œåªæœ‰ä¸€ä¸ªæ•°å€¼æˆå‘˜çš„æ•°ç»„ï¼Œ`isNaN`è¿”å›ž`false`ã€‚

```
isNaN([]) // false
isNaN([123]) // false
isNaN(['123']) // false
```

ä¸Šé¢ä»£ç ä¹‹æ‰€ä»¥è¿”å›ž`false`ï¼ŒåŽŸå› æ˜¯è¿™äº›æ•°ç»„èƒ½è¢«`Number`å‡½æ•°è½¬æˆæ•°å€¼ã€‚

å› æ­¤ï¼Œä½¿ç”¨`isNaN`ä¹‹å‰ï¼Œæœ€å¥½åˆ¤æ–­ä¸€ä¸‹æ•°æ®ç±»åž‹ã€‚

```
function myIsNaN(value) {
  return typeof value === 'number' && isNaN(value);
}
```

åˆ¤æ–­`NaN`æ›´å¯é çš„æ–¹æ³•æ˜¯ï¼Œåˆ©ç”¨`NaN`ä¸ºå”¯ä¸€ä¸ç­‰äºŽè‡ªèº«çš„å€¼çš„è¿™ä¸ªç‰¹ç‚¹ï¼Œè¿›è¡Œåˆ¤æ–­ã€‚

```
function myIsNaN(value) {
  return value !== value;
}
```

#### 5.4 isFinite() 

isFiniteæ–¹æ³•è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦ä¸ºæ­£å¸¸çš„æ•°å€¼ã€‚

```
isFinite(Infinity) // false
isFinite(-Infinity) // false
isFinite(NaN) // false
isFinite(undefined) // false
isFinite(null) // true
isFinite(-1) // true
```

é™¤äº†`Infinity`ã€`-Infinity`ã€`NaN`å’Œ`undefined`è¿™å‡ ä¸ªå€¼ä¼šè¿”å›ž`false`ï¼Œ`isFinite`å¯¹äºŽå…¶ä»–çš„æ•°å€¼éƒ½ä¼šè¿”å›ž`true`ã€‚


## å­—ç¬¦ä¸²

### 1. æ¦‚è¿°

#### 1.1 å®šä¹‰

å­—ç¬¦ä¸²å°±æ˜¯é›¶ä¸ªæˆ–å¤šä¸ªæŽ’åœ¨ä¸€èµ·çš„å­—ç¬¦ï¼Œæ”¾åœ¨å•å¼•å·æˆ–åŒå¼•å·ä¹‹ä¸­ã€‚

```
'abc'
"abc"
```

å•å¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ã€‚åŒå¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·ã€‚

```
'key = "value"'
"It's a long journey"
```

ä¸Šé¢ä¸¤ä¸ªéƒ½æ˜¯åˆæ³•çš„å­—ç¬¦ä¸²ã€‚

å¦‚æžœè¦åœ¨å•å¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œä½¿ç”¨å•å¼•å·ï¼Œå°±å¿…é¡»åœ¨å†…éƒ¨çš„å•å¼•å·å‰é¢åŠ ä¸Šåæ–œæ ï¼Œç”¨æ¥è½¬ä¹‰ã€‚åŒå¼•å·å­—ç¬¦ä¸²å†…éƒ¨ä½¿ç”¨åŒå¼•å·ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚

```
'Did she say \'Hello\'?'
// "Did she say 'Hello'?"

"Did she say \"Hello\"?"
// "Did she say "Hello"?"
```

ç”±äºŽ HTML è¯­è¨€çš„å±žæ€§å€¼ä½¿ç”¨åŒå¼•å·ï¼Œæ‰€ä»¥å¾ˆå¤šé¡¹ç›®çº¦å®š JavaScript è¯­è¨€çš„å­—ç¬¦ä¸²åªä½¿ç”¨å•å¼•å·ï¼Œæœ¬æ•™ç¨‹éµå®ˆè¿™ä¸ªçº¦å®šã€‚å½“ç„¶ï¼Œåªä½¿ç”¨åŒå¼•å·ä¹Ÿå®Œå…¨å¯ä»¥ã€‚é‡è¦çš„æ˜¯åšæŒä½¿ç”¨ä¸€ç§é£Žæ ¼ï¼Œä¸è¦ä¸€ä¼šä½¿ç”¨å•å¼•å·è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œä¸€ä¼šåˆä½¿ç”¨åŒå¼•å·è¡¨ç¤ºã€‚

å­—ç¬¦ä¸²é»˜è®¤åªèƒ½å†™åœ¨ä¸€è¡Œå†…ï¼Œåˆ†æˆå¤šè¡Œå°†ä¼šæŠ¥é”™ã€‚

```
'a
b
c'
// SyntaxError: Unexpected token ILLEGAL
```

ä¸Šé¢ä»£ç å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†æˆä¸‰è¡Œï¼ŒJavaScript å°±ä¼šæŠ¥é”™ã€‚

å¦‚æžœé•¿å­—ç¬¦ä¸²å¿…é¡»åˆ†æˆå¤šè¡Œï¼Œå¯ä»¥åœ¨æ¯ä¸€è¡Œçš„å°¾éƒ¨ä½¿ç”¨åæ–œæ ã€‚

```
var longString = 'Long \
long \
long \
string';

longString
// "Long long long string"
```

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒåŠ äº†åæ–œæ ä»¥åŽï¼ŒåŽŸæ¥å†™åœ¨ä¸€è¡Œçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œä¹¦å†™ã€‚ä½†æ˜¯ï¼Œè¾“å‡ºçš„æ—¶å€™è¿˜æ˜¯å•è¡Œï¼Œæ•ˆæžœä¸Žå†™åœ¨åŒä¸€è¡Œå®Œå…¨ä¸€æ ·ã€‚æ³¨æ„ï¼Œåæ–œæ çš„åŽé¢å¿…é¡»æ˜¯æ¢è¡Œç¬¦ï¼Œè€Œä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼ˆæ¯”å¦‚ç©ºæ ¼ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

è¿žæŽ¥è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰å¯ä»¥è¿žæŽ¥å¤šä¸ªå•è¡Œå­—ç¬¦ä¸²ï¼Œå°†é•¿å­—ç¬¦ä¸²æ‹†æˆå¤šè¡Œä¹¦å†™ï¼Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿæ˜¯å•è¡Œã€‚

```
var longString = 'Long '
  + 'long '
  + 'long '
  + 'string';
```

å¦‚æžœæƒ³è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ç§åˆ©ç”¨å¤šè¡Œæ³¨é‡Šçš„å˜é€šæ–¹æ³•ã€‚

```
(function () { /*
line 1
line 2
line 3
*/}).toString().split('\n').slice(1, -1).join('\n')
// "line 1
// line 2
// line 3"
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè¾“å‡ºçš„å­—ç¬¦ä¸²å°±æ˜¯å¤šè¡Œã€‚

#### 1.2 è½¬ä¹‰

åæ–œæ ï¼ˆ`\`ï¼‰åœ¨å­—ç¬¦ä¸²å†…æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œç”¨æ¥è¡¨ç¤ºä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæ‰€ä»¥åˆç§°ä¸ºè½¬ä¹‰ç¬¦ã€‚

éœ€è¦ç”¨åæ–œæ è½¬ä¹‰çš„ç‰¹æ®Šå­—ç¬¦ï¼Œä¸»è¦æœ‰ä¸‹é¢è¿™äº›ã€‚

- `\0` ï¼šnullï¼ˆ`\u0000`ï¼‰
- `\b` ï¼šåŽé€€é”®ï¼ˆ`\u0008`ï¼‰
- `\f` ï¼šæ¢é¡µç¬¦ï¼ˆ`\u000C`ï¼‰
- `\n` ï¼šæ¢è¡Œç¬¦ï¼ˆ`\u000A`ï¼‰
- `\r` ï¼šå›žè½¦é”®ï¼ˆ`\u000D`ï¼‰
- `\t` ï¼šåˆ¶è¡¨ç¬¦ï¼ˆ`\u0009`ï¼‰
- `\v` ï¼šåž‚ç›´åˆ¶è¡¨ç¬¦ï¼ˆ`\u000B`ï¼‰
- `\'` ï¼šå•å¼•å·ï¼ˆ`\u0027`ï¼‰
- `\"` ï¼šåŒå¼•å·ï¼ˆ`\u0022`ï¼‰
- `\\` ï¼šåæ–œæ ï¼ˆ`\u005C`ï¼‰

ä¸Šé¢è¿™äº›å­—ç¬¦å‰é¢åŠ ä¸Šåæ–œæ ï¼Œéƒ½è¡¨ç¤ºç‰¹æ®Šå«ä¹‰ã€‚

```
console.log('1\n2')
// 1
// 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`\n`è¡¨ç¤ºæ¢è¡Œï¼Œè¾“å‡ºçš„æ—¶å€™å°±åˆ†æˆäº†ä¸¤è¡Œã€‚

åæ–œæ è¿˜æœ‰ä¸‰ç§ç‰¹æ®Šç”¨æ³•ã€‚

ï¼ˆ1ï¼‰`\HHH`

åæ–œæ åŽé¢ç´§è·Ÿä¸‰ä¸ªå…«è¿›åˆ¶æ•°ï¼ˆ000åˆ°377ï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚`HHH`å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚`\251`è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚æ˜¾ç„¶ï¼Œè¿™ç§æ–¹æ³•åªèƒ½è¾“å‡º256ç§å­—ç¬¦ã€‚

ï¼ˆ2ï¼‰`\xHH`

`\x`åŽé¢ç´§è·Ÿä¸¤ä¸ªåå…­è¿›åˆ¶æ•°ï¼ˆ00åˆ°FFï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚`HH`å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚\xA9è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚è¿™ç§æ–¹æ³•ä¹Ÿåªèƒ½è¾“å‡º256ç§å­—ç¬¦ã€‚

ï¼ˆ3ï¼‰`\uXXXX`

`\u`åŽé¢ç´§è·Ÿå››ä¸ªåå…­è¿›åˆ¶æ•°ï¼ˆ0000åˆ°FFFFï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚XXXXå¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚\u00A9è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚

ä¸‹é¢æ˜¯è¿™ä¸‰ç§å­—ç¬¦ç‰¹æ®Šå†™æ³•çš„ä¾‹å­ã€‚

```
'\251' // "Â©"
'\xA9' // "Â©"
'\u00A9' // "Â©"

'\172' === 'z' // true
'\x7A' === 'z' // true
'\u007A' === 'z' // true
```

å¦‚æžœåœ¨éžç‰¹æ®Šå­—ç¬¦å‰é¢ä½¿ç”¨åæ–œæ ï¼Œåˆ™åæ–œæ ä¼šè¢«çœç•¥ã€‚

```
'\a'
// "a"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`a`æ˜¯ä¸€ä¸ªæ­£å¸¸å­—ç¬¦ï¼Œå‰é¢åŠ åæ–œæ æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œåæ–œæ ä¼šè¢«è‡ªåŠ¨çœç•¥ã€‚

å¦‚æžœå­—ç¬¦ä¸²çš„æ­£å¸¸å†…å®¹ä¹‹ä¸­ï¼Œéœ€è¦åŒ…å«åæ–œæ ï¼Œåˆ™åæ–œæ å‰é¢éœ€è¦å†åŠ ä¸€ä¸ªåæ–œæ ï¼Œç”¨æ¥å¯¹è‡ªèº«è½¬ä¹‰ã€‚

```
"Prev \\ Next"
// "Prev \ Next"
```

#### 1.3 å­—ç¬¦ä¸²ä¸Žæ•°ç»„

å­—ç¬¦ä¸²å¯ä»¥è¢«è§†ä¸ºå­—ç¬¦æ•°ç»„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œç”¨æ¥è¿”å›žæŸä¸ªä½ç½®çš„å­—ç¬¦ï¼ˆä½ç½®ç¼–å·ä»Ž0å¼€å§‹ï¼‰ã€‚

```
var s = 'hello';
s[0] // "h"
s[1] // "e"
s[4] // "o"

// ç›´æŽ¥å¯¹å­—ç¬¦ä¸²ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦
'hello'[1] // "e"
```

å¦‚æžœæ–¹æ‹¬å·ä¸­çš„æ•°å­—è¶…è¿‡å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæˆ–è€…æ–¹æ‹¬å·ä¸­æ ¹æœ¬ä¸æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›ž`undefined`ã€‚

```
'abc'[3] // undefined
'abc'[-1] // undefined
'abc'['x'] // undefined
```

ä½†æ˜¯ï¼Œå­—ç¬¦ä¸²ä¸Žæ•°ç»„çš„ç›¸ä¼¼æ€§ä»…æ­¤è€Œå·²ã€‚å®žé™…ä¸Šï¼Œæ— æ³•æ”¹å˜å­—ç¬¦ä¸²ä¹‹ä¸­çš„å•ä¸ªå­—ç¬¦ã€‚

```
var s = 'hello';

delete s[0];
s // "hello"

s[1] = 'a';
s // "hello"

s[5] = '!';
s // "hello"
```

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå­—ç¬¦ä¸²å†…éƒ¨çš„å•ä¸ªå­—ç¬¦æ— æ³•æ”¹å˜å’Œå¢žåˆ ï¼Œè¿™äº›æ“ä½œä¼šé»˜é»˜åœ°å¤±è´¥ã€‚

#### 1.4 length å±žæ€§

`length`å±žæ€§è¿”å›žå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯¥å±žæ€§ä¹Ÿæ˜¯æ— æ³•æ”¹å˜çš„ã€‚

```
var s = 'hello';
s.length // 5

s.length = 3;
s.length // 5

s.length = 7;
s.length // 5
```

### 2. å­—ç¬¦é›†

JavaScript ä½¿ç”¨ Unicode å­—ç¬¦é›†ã€‚JavaScript å¼•æ“Žå†…éƒ¨ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½ç”¨ Unicode è¡¨ç¤ºã€‚

JavaScript ä¸ä»…ä»¥ Unicode å‚¨å­˜å­—ç¬¦ï¼Œè¿˜å…è®¸ç›´æŽ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨ Unicode ç ç‚¹è¡¨ç¤ºå­—ç¬¦ï¼Œå³å°†å­—ç¬¦å†™æˆ\uxxxxçš„å½¢å¼ï¼Œå…¶ä¸­xxxxä»£è¡¨è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ã€‚æ¯”å¦‚ï¼Œ\u00A9ä»£è¡¨ç‰ˆæƒç¬¦å·ã€‚

```
var s = '\u00A9';
s // "Â©"
```

è§£æžä»£ç çš„æ—¶å€™ï¼ŒJavaScript ä¼šè‡ªåŠ¨è¯†åˆ«ä¸€ä¸ªå­—ç¬¦æ˜¯å­—é¢å½¢å¼è¡¨ç¤ºï¼Œè¿˜æ˜¯ Unicode å½¢å¼è¡¨ç¤ºã€‚è¾“å‡ºç»™ç”¨æˆ·çš„æ—¶å€™ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½ä¼šè½¬æˆå­—é¢å½¢å¼ã€‚

```
var f\u006F\u006F = 'abc';
foo // "abc"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€è¡Œçš„å˜é‡å`foo`æ˜¯ Unicode å½¢å¼è¡¨ç¤ºï¼Œç¬¬äºŒè¡Œæ˜¯å­—é¢å½¢å¼è¡¨ç¤ºã€‚JavaScript ä¼šè‡ªåŠ¨è¯†åˆ«ã€‚

æˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“ï¼Œæ¯ä¸ªå­—ç¬¦åœ¨ JavaScript å†…éƒ¨éƒ½æ˜¯ä»¥16ä½ï¼ˆå³2ä¸ªå­—èŠ‚ï¼‰çš„ UTF-16 æ ¼å¼å‚¨å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScript çš„å•ä½å­—ç¬¦é•¿åº¦å›ºå®šä¸º16ä½é•¿åº¦ï¼Œå³2ä¸ªå­—èŠ‚ã€‚

ä½†æ˜¯ï¼ŒUTF-16 æœ‰ä¸¤ç§é•¿åº¦ï¼šå¯¹äºŽç ç‚¹åœ¨`U+0000`åˆ°`U+FFFF`ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º16ä½ï¼ˆå³2ä¸ªå­—èŠ‚ï¼‰ï¼›å¯¹äºŽç ç‚¹åœ¨`U+10000`åˆ°`U+10FFFF`ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º32ä½ï¼ˆå³4ä¸ªå­—èŠ‚ï¼‰ï¼Œè€Œä¸”å‰ä¸¤ä¸ªå­—èŠ‚åœ¨0xD800åˆ°0xDBFFä¹‹é—´ï¼ŒåŽä¸¤ä¸ªå­—èŠ‚åœ¨`0xDC00`åˆ°`0xDFFF`ä¹‹é—´ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç ç‚¹`U+1D306`å¯¹åº”çš„å­—ç¬¦ä¸ºðŒ†ï¼Œå®ƒå†™æˆ UTF-16 å°±æ˜¯`0xD834` `0xDF06`ã€‚

JavaScript å¯¹ UTF-16 çš„æ”¯æŒæ˜¯ä¸å®Œæ•´çš„ï¼Œç”±äºŽåŽ†å²åŽŸå› ï¼Œåªæ”¯æŒä¸¤å­—èŠ‚çš„å­—ç¬¦ï¼Œä¸æ”¯æŒå››å­—èŠ‚çš„å­—ç¬¦ã€‚è¿™æ˜¯å› ä¸º JavaScript ç¬¬ä¸€ç‰ˆå‘å¸ƒçš„æ—¶å€™ï¼ŒUnicode çš„ç ç‚¹åªç¼–åˆ°`U+FFFF`ï¼Œå› æ­¤ä¸¤å­—èŠ‚è¶³å¤Ÿè¡¨ç¤ºäº†ã€‚åŽæ¥ï¼ŒUnicode çº³å…¥çš„å­—ç¬¦è¶Šæ¥è¶Šå¤šï¼Œå‡ºçŽ°äº†å››å­—èŠ‚çš„ç¼–ç ã€‚ä½†æ˜¯ï¼ŒJavaScript çš„æ ‡å‡†æ­¤æ—¶å·²ç»å®šåž‹äº†ï¼Œç»Ÿä¸€å°†å­—ç¬¦é•¿åº¦é™åˆ¶åœ¨ä¸¤å­—èŠ‚ï¼Œå¯¼è‡´æ— æ³•è¯†åˆ«å››å­—èŠ‚çš„å­—ç¬¦ã€‚ä¸Šä¸€èŠ‚çš„é‚£ä¸ªå››å­—èŠ‚å­—ç¬¦ðŒ†ï¼Œæµè§ˆå™¨ä¼šæ­£ç¡®è¯†åˆ«è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯ JavaScript æ— æ³•è¯†åˆ«ï¼Œä¼šè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚

```
'ðŒ†'.length // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼ŒJavaScript è®¤ä¸ºðŒ†çš„é•¿åº¦ä¸º2ï¼Œè€Œä¸æ˜¯1ã€‚

æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºŽç ç‚¹åœ¨U+10000åˆ°U+10FFFFä¹‹é—´çš„å­—ç¬¦ï¼ŒJavaScript æ€»æ˜¯è®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ï¼ˆlengthå±žæ€§ä¸º2ï¼‰ã€‚æ‰€ä»¥å¤„ç†çš„æ—¶å€™ï¼Œå¿…é¡»æŠŠè¿™ä¸€ç‚¹è€ƒè™‘åœ¨å†…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScript è¿”å›žçš„å­—ç¬¦ä¸²é•¿åº¦å¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ã€‚

### 3. Base64 è½¬ç 

æœ‰æ—¶ï¼Œæ–‡æœ¬é‡Œé¢åŒ…å«ä¸€äº›ä¸å¯æ‰“å°çš„ç¬¦å·ï¼Œæ¯”å¦‚ ASCII ç 0åˆ°31çš„ç¬¦å·éƒ½æ— æ³•æ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ Base64 ç¼–ç ï¼Œå°†å®ƒä»¬è½¬æˆå¯ä»¥æ‰“å°çš„å­—ç¬¦ã€‚å¦ä¸€ä¸ªåœºæ™¯æ˜¯ï¼Œæœ‰æ—¶éœ€è¦ä»¥æ–‡æœ¬æ ¼å¼ä¼ é€’äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨ Base64 ç¼–ç ã€‚

æ‰€è°“ Base64 å°±æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æˆ 0ï½ž9ã€Aï½žZã€a-zã€+å’Œ/è¿™64ä¸ªå­—ç¬¦ç»„æˆçš„å¯æ‰“å°å­—ç¬¦ã€‚ä½¿ç”¨å®ƒçš„ä¸»è¦ç›®çš„ï¼Œä¸æ˜¯ä¸ºäº†åŠ å¯†ï¼Œè€Œæ˜¯ä¸ºäº†ä¸å‡ºçŽ°ç‰¹æ®Šå­—ç¬¦ï¼Œç®€åŒ–ç¨‹åºçš„å¤„ç†ã€‚

JavaScript åŽŸç”Ÿæä¾›ä¸¤ä¸ª Base64 ç›¸å…³çš„æ–¹æ³•ã€‚

- `btoa()`ï¼šä»»æ„å€¼è½¬ä¸º Base64 ç¼–ç 
- `atob()`ï¼šBase64 ç¼–ç è½¬ä¸ºåŽŸæ¥çš„å€¼

```
var string = 'Hello World!';
btoa(string) // "SGVsbG8gV29ybGQh"
atob('SGVsbG8gV29ybGQh') // "Hello World!"
```

æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸é€‚åˆéž ASCII ç çš„å­—ç¬¦ï¼Œä¼šæŠ¥é”™ã€‚

```
btoa('ä½ å¥½') // æŠ¥é”™
```

è¦å°†éž ASCII ç å­—ç¬¦è½¬ä¸º Base64 ç¼–ç ï¼Œå¿…é¡»ä¸­é—´æ’å…¥ä¸€ä¸ªè½¬ç çŽ¯èŠ‚ï¼Œå†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

```
function b64Encode(str) {
  return btoa(encodeURIComponent(str));
}

function b64Decode(str) {
  return decodeURIComponent(atob(str));
}

b64Encode('ä½ å¥½') // "JUU0JUJEJUEwJUU1JUE1JUJE"
b64Decode('JUU0JUJEJUEwJUU1JUE1JUJE') // "ä½ å¥½"
```

## å¯¹è±¡

### 1 æ¦‚è¿°

#### 1.1 ç”Ÿæˆæ–¹æ³•

å¯¹è±¡ï¼ˆobjectï¼‰æ˜¯ JavaScript è¯­è¨€çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„æ•°æ®ç±»åž‹ã€‚

ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿç®€å•è¯´ï¼Œå¯¹è±¡å°±æ˜¯ä¸€ç»„â€œé”®å€¼å¯¹â€ï¼ˆkey-valueï¼‰çš„é›†åˆï¼Œæ˜¯ä¸€ç§æ— åºçš„å¤åˆæ•°æ®é›†åˆã€‚

```
var obj = {
  foo: 'Hello',
  bar: 'World'
};
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¤§æ‹¬å·å°±å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒè¢«èµ‹å€¼ç»™å˜é‡`obj`ï¼Œæ‰€ä»¥å˜é‡`obj`å°±æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¯¥å¯¹è±¡å†…éƒ¨åŒ…å«ä¸¤ä¸ªé”®å€¼å¯¹ï¼ˆåˆç§°ä¸ºä¸¤ä¸ªâ€œæˆå‘˜â€ï¼‰ï¼Œç¬¬ä¸€ä¸ªé”®å€¼å¯¹æ˜¯`foo: 'Hello'`ï¼Œå…¶ä¸­`foo`æ˜¯â€œé”®åâ€ï¼ˆæˆå‘˜çš„åç§°ï¼‰ï¼Œå­—ç¬¦ä¸²`Hello`æ˜¯â€œé”®å€¼â€ï¼ˆæˆå‘˜çš„å€¼ï¼‰ã€‚é”®åä¸Žé”®å€¼ä¹‹é—´ç”¨å†’å·åˆ†éš”ã€‚ç¬¬äºŒä¸ªé”®å€¼å¯¹æ˜¯`bar: 'World'`ï¼Œ`bar`æ˜¯é”®åï¼Œ`World`æ˜¯é”®å€¼ã€‚ä¸¤ä¸ªé”®å€¼å¯¹ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚

#### 1.2 é”®å

å¯¹è±¡çš„æ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆES6 åˆå¼•å…¥äº† Symbol å€¼ä¹Ÿå¯ä»¥ä½œä¸ºé”®åï¼‰ï¼Œæ‰€ä»¥åŠ ä¸åŠ å¼•å·éƒ½å¯ä»¥ã€‚ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚

```
var obj = {
  'foo': 'Hello',
  'bar': 'World'
};
```

å¦‚æžœé”®åæ˜¯æ•°å€¼ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

```
var obj = {
  1: 'a',
  3.2: 'b',
  1e2: true,
  1e-2: true,
  .234: true,
  0xFF: true
};

obj
// Object {
//   1: "a",
//   3.2: "b",
//   100: true,
//   0.01: true,
//   0.234: true,
//   255: true
// }

obj['100'] // true
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`çš„æ‰€æœ‰é”®åè™½ç„¶çœ‹ä¸ŠåŽ»åƒæ•°å€¼ï¼Œå®žé™…ä¸Šéƒ½è¢«è‡ªåŠ¨è½¬æˆäº†å­—ç¬¦ä¸²ã€‚

å¦‚æžœé”®åä¸ç¬¦åˆæ ‡è¯†åçš„æ¡ä»¶ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºæ•°å­—ï¼Œæˆ–è€…å«æœ‰ç©ºæ ¼æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œä¸”ä¹Ÿä¸æ˜¯æ•°å­—ï¼Œåˆ™å¿…é¡»åŠ ä¸Šå¼•å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

```
// æŠ¥é”™
var obj = {
  1p: 'Hello World'
};

// ä¸æŠ¥é”™
var obj = {
  '1p': 'Hello World',
  'h w': 'Hello World',
  'p+q': 'Hello World'
};
```

ä¸Šé¢å¯¹è±¡çš„ä¸‰ä¸ªé”®åï¼Œéƒ½ä¸ç¬¦åˆæ ‡è¯†åçš„æ¡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»åŠ ä¸Šå¼•å·ã€‚

å¯¹è±¡çš„æ¯ä¸€ä¸ªé”®ååˆç§°ä¸ºâ€œå±žæ€§â€ï¼ˆpropertyï¼‰ï¼Œå®ƒçš„â€œé”®å€¼â€å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»åž‹ã€‚å¦‚æžœä¸€ä¸ªå±žæ€§çš„å€¼ä¸ºå‡½æ•°ï¼Œé€šå¸¸æŠŠè¿™ä¸ªå±žæ€§ç§°ä¸ºâ€œæ–¹æ³•â€ï¼Œå®ƒå¯ä»¥åƒå‡½æ•°é‚£æ ·è°ƒç”¨ã€‚

```
var obj = {
  p: function (x) {
    return 2 * x;
  }
};

obj.p(1) // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡objçš„å±žæ€§pï¼Œå°±æŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚

å¦‚æžœå±žæ€§çš„å€¼è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å½¢æˆäº†é“¾å¼å¼•ç”¨ã€‚

```
var o1 = {};
var o2 = { bar: 'hello' };

o1.foo = o2;
o1.foo.bar // "hello"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`o1`çš„å±žæ€§`foo`æŒ‡å‘å¯¹è±¡`o2`ï¼Œå°±å¯ä»¥é“¾å¼å¼•ç”¨`o2`çš„å±žæ€§ã€‚

å¯¹è±¡çš„å±žæ€§ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæœ€åŽä¸€ä¸ªå±žæ€§åŽé¢å¯ä»¥åŠ é€—å·ï¼ˆtrailing commaï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ã€‚

```
var obj = {
  p: 123,
  m: function () { ... },
}
```

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`m`å±žæ€§åŽé¢çš„é‚£ä¸ªé€—å·ï¼Œæœ‰æ²¡æœ‰éƒ½å¯ä»¥ã€‚

å±žæ€§å¯ä»¥åŠ¨æ€åˆ›å»ºï¼Œä¸å¿…åœ¨å¯¹è±¡å£°æ˜Žæ—¶å°±æŒ‡å®šã€‚

```
var obj = {};
obj.foo = 123;
obj.foo // 123
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç›´æŽ¥å¯¹`obj`å¯¹è±¡çš„`foo`å±žæ€§èµ‹å€¼ï¼Œç»“æžœå°±åœ¨è¿è¡Œæ—¶åˆ›å»ºäº†`foo`å±žæ€§ã€‚

#### 1.3 å¯¹è±¡çš„å¼•ç”¨

å¦‚æžœä¸åŒçš„å˜é‡åæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œä¼šå½±å“åˆ°å…¶ä»–æ‰€æœ‰å˜é‡ã€‚ 	

```
var o1 = {};
var o2 = o1;

o1.a = 1;
o2.a // 1

o2.b = 2;
o1.b // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`o1`å’Œ`o2`æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä¸ºå…¶ä¸­ä»»ä½•ä¸€ä¸ªå˜é‡æ·»åŠ å±žæ€§ï¼Œå¦ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥è¯»å†™è¯¥å±žæ€§ã€‚

æ­¤æ—¶ï¼Œå¦‚æžœå–æ¶ˆæŸä¸€ä¸ªå˜é‡å¯¹äºŽåŽŸå¯¹è±¡çš„å¼•ç”¨ï¼Œä¸ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå˜é‡ã€‚

```
var o1 = {};
var o2 = o1;

o1 = 1;
o2 // {}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`o1`å’Œ`o2`æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åŽ`o1`çš„å€¼å˜ä¸º1ï¼Œè¿™æ—¶ä¸ä¼šå¯¹`o2`äº§ç”Ÿå½±å“ï¼Œ`o2`è¿˜æ˜¯æŒ‡å‘åŽŸæ¥çš„é‚£ä¸ªå¯¹è±¡ã€‚

ä½†æ˜¯ï¼Œè¿™ç§å¼•ç”¨åªå±€é™äºŽå¯¹è±¡ï¼Œå¦‚æžœä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªåŽŸå§‹ç±»åž‹çš„å€¼ã€‚é‚£ä¹ˆï¼Œå˜é‡è¿™æ—¶éƒ½æ˜¯å€¼çš„æ‹·è´ã€‚

```
var x = 1;
var y = x;

x = 2;
y // 1
```

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå½“xçš„å€¼å‘ç”Ÿå˜åŒ–åŽï¼Œyçš„å€¼å¹¶ä¸å˜ï¼Œè¿™å°±è¡¨ç¤ºyå’Œxå¹¶ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚

#### 1.4 è¡¨è¾¾å¼è¿˜æ˜¯è¯­å¥?

å¯¹è±¡é‡‡ç”¨å¤§æ‹¬å·è¡¨ç¤ºï¼Œè¿™å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æžœè¡Œé¦–æ˜¯ä¸€ä¸ªå¤§æ‹¬å·ï¼Œå®ƒåˆ°åº•æ˜¯è¡¨è¾¾å¼è¿˜æ˜¯è¯­å¥ï¼Ÿ

```
{ foo: 123 }
```

JavaScript å¼•æ“Žè¯»åˆ°ä¸Šé¢è¿™è¡Œä»£ç ï¼Œä¼šå‘çŽ°å¯èƒ½æœ‰ä¸¤ç§å«ä¹‰ã€‚ç¬¬ä¸€ç§å¯èƒ½æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¡¨ç¤ºä¸€ä¸ªåŒ…å«`foo`å±žæ€§çš„å¯¹è±¡ï¼›ç¬¬äºŒç§å¯èƒ½æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œè¡¨ç¤ºä¸€ä¸ªä»£ç åŒºå—ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ ‡ç­¾`foo`ï¼ŒæŒ‡å‘è¡¨è¾¾å¼`123`ã€‚

ä¸ºäº†é¿å…è¿™ç§æ­§ä¹‰ï¼ŒV8 å¼•æ“Žè§„å®šï¼Œå¦‚æžœè¡Œé¦–æ˜¯å¤§æ‹¬å·ï¼Œä¸€å¾‹è§£é‡Šä¸ºå¯¹è±¡ã€‚ä¸è¿‡ï¼Œä¸ºäº†é¿å…æ­§ä¹‰ï¼Œæœ€å¥½åœ¨å¤§æ‹¬å·å‰åŠ ä¸Šåœ†æ‹¬å·ã€‚

```
({ foo: 123})
```

è¿™ç§å·®å¼‚åœ¨`eval`è¯­å¥ï¼ˆä½œç”¨æ˜¯å¯¹å­—ç¬¦ä¸²æ±‚å€¼ï¼‰ä¸­åæ˜ å¾—æœ€æ˜Žæ˜¾ã€‚

```
eval('{foo: 123}') // 123
eval('({foo: 123})') // {foo: 123}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœæ²¡æœ‰åœ†æ‹¬å·ï¼Œ`eval`å°†å…¶ç†è§£ä¸ºä¸€ä¸ªä»£ç å—ï¼›åŠ ä¸Šåœ†æ‹¬å·ä»¥åŽï¼Œå°±ç†è§£æˆä¸€ä¸ªå¯¹è±¡ã€‚

### 2. å±žæ€§çš„æ“ä½œ 

#### 2.1 å±žæ€§çš„è¯»å–

è¯»å–å¯¹è±¡çš„å±žæ€§ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ã€‚

```
var obj = {
  p: 'Hello World'
};

obj.p // "Hello World"
obj['p'] // "Hello World"
```

ä¸Šé¢ä»£ç åˆ†åˆ«é‡‡ç”¨ç‚¹è¿ç®—ç¬¦å’Œæ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œè¯»å–å±žæ€§pã€‚

è¯·æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œé”®åå¿…é¡»æ”¾åœ¨å¼•å·é‡Œé¢ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œå˜é‡å¤„ç†ã€‚

```
var foo = 'bar';

var obj = {
  foo: 1,
  bar: 2
};

obj.foo  // 1
obj[foo]  // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¼•ç”¨å¯¹è±¡`obj`çš„`foo`å±žæ€§æ—¶ï¼Œå¦‚æžœä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œ`foo`å°±æ˜¯å­—ç¬¦ä¸²ï¼›å¦‚æžœä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œä½†æ˜¯ä¸ä½¿ç”¨å¼•å·ï¼Œé‚£ä¹ˆ`foo`å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼ŒæŒ‡å‘å­—ç¬¦ä¸²`bar`ã€‚

æ–¹æ‹¬å·è¿ç®—ç¬¦å†…éƒ¨è¿˜å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ã€‚

```
obj['hello' + ' world']
obj[3 + 3]
```

æ•°å­—é”®å¯ä»¥ä¸åŠ å¼•å·ï¼Œå› ä¸ºä¼šè‡ªåŠ¨è½¬æˆå­—ç¬¦ä¸²ã€‚

```
var obj = {
  0.7: 'Hello World'
};

obj['0.7'] // "Hello World"
obj[0.7] // "Hello World"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡objçš„æ•°å­—é”®0.7ï¼ŒåŠ ä¸åŠ å¼•å·éƒ½å¯ä»¥ï¼Œå› ä¸ºä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

æ³¨æ„ï¼Œæ•°å€¼é”®åä¸èƒ½ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼ˆå› ä¸ºä¼šè¢«å½“æˆå°æ•°ç‚¹ï¼‰ï¼Œåªèƒ½ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ã€‚

```
var obj = {
  123: 'hello world'
};

obj.123 // æŠ¥é”™
obj[123] // "hello world"
```

ä¸Šé¢ä»£ç çš„ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¯¹æ•°å€¼é”®å123ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œç»“æžœæŠ¥é”™ã€‚ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œç»“æžœå°±æ˜¯æ­£ç¡®çš„ã€‚

#### 2.2 å±žæ€§çš„èµ‹å€¼

ç‚¹è¿ç®—ç¬¦å’Œæ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œä¸ä»…å¯ä»¥ç”¨æ¥è¯»å–å€¼ï¼Œè¿˜å¯ä»¥ç”¨æ¥èµ‹å€¼ã€‚

```
var obj = {};

obj.foo = 'Hello';
obj['bar'] = 'World';
```

ä¸Šé¢ä»£ç ä¸­ï¼Œåˆ†åˆ«ä½¿ç”¨ç‚¹è¿ç®—ç¬¦å’Œæ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œå¯¹å±žæ€§èµ‹å€¼ã€‚

JavaScript å…è®¸å±žæ€§çš„â€œåŽç»‘å®šâ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»æ–°å¢žå±žæ€§ï¼Œæ²¡å¿…è¦åœ¨å®šä¹‰å¯¹è±¡çš„æ—¶å€™ï¼Œå°±å®šä¹‰å¥½å±žæ€§ã€‚

```
var obj = { p: 1 };

// ç­‰ä»·äºŽ

var obj = {};
obj.p = 1;
```

#### 2.3 å±žæ€§çš„æŸ¥çœ‹

æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡æœ¬èº«çš„æ‰€æœ‰å±žæ€§ï¼Œå¯ä»¥ä½¿ç”¨`Object.keys`æ–¹æ³•ã€‚

```
var obj = {
  key1: 1,
  key2: 2
};

Object.keys(obj);
// ['key1', 'key2']
```

#### 2.4 å±žæ€§çš„åˆ é™¤ï¼šdelete å‘½ä»¤

`delete`å‘½ä»¤ç”¨äºŽåˆ é™¤å¯¹è±¡çš„å±žæ€§ï¼Œåˆ é™¤æˆåŠŸåŽè¿”å›ž`true`ã€‚

```
var obj = { p: 1 };
Object.keys(obj) // ["p"]

delete obj.p // true
obj.p // undefined
Object.keys(obj) // []
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`delete`å‘½ä»¤åˆ é™¤å¯¹è±¡`obj`çš„`p`å±žæ€§ã€‚åˆ é™¤åŽï¼Œå†è¯»å–`p`å±žæ€§å°±ä¼šè¿”å›ž`undefined`ï¼Œè€Œä¸”`Object.keys`æ–¹æ³•çš„è¿”å›žå€¼ä¹Ÿä¸å†åŒ…æ‹¬è¯¥å±žæ€§ã€‚

æ³¨æ„ï¼Œåˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„å±žæ€§ï¼Œdeleteä¸æŠ¥é”™ï¼Œè€Œä¸”è¿”å›žtrueã€‚

```
var obj = {};
delete obj.p // true
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`å¹¶æ²¡æœ‰`p`å±žæ€§ï¼Œä½†æ˜¯`delete`å‘½ä»¤ç…§æ ·è¿”å›ž`true`ã€‚å› æ­¤ï¼Œä¸èƒ½æ ¹æ®`delete`å‘½ä»¤çš„ç»“æžœï¼Œè®¤å®šæŸä¸ªå±žæ€§æ˜¯å­˜åœ¨çš„ã€‚

åªæœ‰ä¸€ç§æƒ…å†µï¼Œ`delete`å‘½ä»¤ä¼šè¿”å›ž`false`ï¼Œé‚£å°±æ˜¯è¯¥å±žæ€§å­˜åœ¨ï¼Œä¸”ä¸å¾—åˆ é™¤ã€‚

```
var obj = Object.defineProperty({}, 'p', {
  value: 123,
  configurable: false
});

obj.p // 123
delete obj.p // false
```

ä¸Šé¢ä»£ç ä¹‹ä¸­ï¼Œå¯¹è±¡`obj`çš„`p`å±žæ€§æ˜¯ä¸èƒ½åˆ é™¤çš„ï¼Œæ‰€ä»¥`delete`å‘½ä»¤è¿”å›ž`false`ã€‚

å¦å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`delete`å‘½ä»¤åªèƒ½åˆ é™¤å¯¹è±¡æœ¬èº«çš„å±žæ€§ï¼Œæ— æ³•åˆ é™¤ç»§æ‰¿çš„å±žæ€§ã€‚

```
var obj = {};
delete obj.toString // true
obj.toString // function toString() { [native code] }
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`toString`æ˜¯å¯¹è±¡`obj`ç»§æ‰¿çš„å±žæ€§ï¼Œè™½ç„¶`delete`å‘½ä»¤è¿”å›ž`true`ï¼Œä½†è¯¥å±žæ€§å¹¶æ²¡æœ‰è¢«åˆ é™¤ï¼Œä¾ç„¶å­˜åœ¨ã€‚è¿™ä¸ªä¾‹å­è¿˜è¯´æ˜Žï¼Œå³ä½¿`delete`è¿”å›ž`true`ï¼Œè¯¥å±žæ€§ä¾ç„¶å¯èƒ½è¯»å–åˆ°å€¼ã€‚

#### 2.5 å±žæ€§æ˜¯å¦å­˜åœ¨ï¼šin è¿ç®—ç¬¦

`in`è¿ç®—ç¬¦ç”¨äºŽæ£€æŸ¥å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªå±žæ€§ï¼ˆæ³¨æ„ï¼Œæ£€æŸ¥çš„æ˜¯é”®åï¼Œä¸æ˜¯é”®å€¼ï¼‰ï¼Œå¦‚æžœåŒ…å«å°±è¿”å›ž`true`ï¼Œå¦åˆ™è¿”å›ž`false`ã€‚å®ƒçš„å·¦è¾¹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±žæ€§åï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚

```
var obj = { p: 1 };
'p' in obj // true
'toString' in obj // true
```

`in`è¿ç®—ç¬¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå®ƒä¸èƒ½è¯†åˆ«å“ªäº›å±žæ€§æ˜¯å¯¹è±¡è‡ªèº«çš„ï¼Œå“ªäº›å±žæ€§æ˜¯ç»§æ‰¿çš„ã€‚å°±åƒä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`æœ¬èº«å¹¶æ²¡æœ‰`toString`å±žæ€§ï¼Œä½†æ˜¯`in`è¿ç®—ç¬¦ä¼šè¿”å›ž`true`ï¼Œå› ä¸ºè¿™ä¸ªå±žæ€§æ˜¯ç»§æ‰¿çš„ã€‚

è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡çš„`hasOwnProperty`æ–¹æ³•åˆ¤æ–­ä¸€ä¸‹ï¼Œæ˜¯å¦ä¸ºå¯¹è±¡è‡ªèº«çš„å±žæ€§ã€‚

```
var obj = {};
if ('toString' in obj) {
  console.log(obj.hasOwnProperty('toString')) // false
}
```

#### 2.6 å±žæ€§çš„éåŽ†ï¼šfor...in å¾ªçŽ¯

`for...in`å¾ªçŽ¯ç”¨æ¥éåŽ†ä¸€ä¸ªå¯¹è±¡çš„å…¨éƒ¨å±žæ€§ã€‚

```
var obj = {a: 1, b: 2, c: 3};

for (var i in obj) {
  console.log('é”®åï¼š', i);
  console.log('é”®å€¼ï¼š', obj[i]);
}
// é”®åï¼š a
// é”®å€¼ï¼š 1
// é”®åï¼š b
// é”®å€¼ï¼š 2
// é”®åï¼š c
// é”®å€¼ï¼š 3
```

`for...in`å¾ªçŽ¯æœ‰ä¸¤ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚

- å®ƒéåŽ†çš„æ˜¯å¯¹è±¡æ‰€æœ‰å¯éåŽ†ï¼ˆenumerableï¼‰çš„å±žæ€§ï¼Œä¼šè·³è¿‡ä¸å¯éåŽ†çš„å±žæ€§ã€‚
- å®ƒä¸ä»…éåŽ†å¯¹è±¡è‡ªèº«çš„å±žæ€§ï¼Œè¿˜éåŽ†ç»§æ‰¿çš„å±žæ€§ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹è±¡éƒ½ç»§æ‰¿äº†`toString`å±žæ€§ï¼Œä½†æ˜¯`for...in`å¾ªçŽ¯ä¸ä¼šéåŽ†åˆ°è¿™ä¸ªå±žæ€§ã€‚

```
var obj = {};

// toString å±žæ€§æ˜¯å­˜åœ¨çš„
obj.toString // toString() { [native code] }

for (var p in obj) {
  console.log(p);
} // æ²¡æœ‰ä»»ä½•è¾“å‡º
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`ç»§æ‰¿äº†`toString`å±žæ€§ï¼Œè¯¥å±žæ€§ä¸ä¼šè¢«`for...in`å¾ªçŽ¯éåŽ†åˆ°ï¼Œå› ä¸ºå®ƒé»˜è®¤æ˜¯â€œä¸å¯éåŽ†â€çš„ã€‚

å¦‚æžœç»§æ‰¿çš„å±žæ€§æ˜¯å¯éåŽ†çš„ï¼Œé‚£ä¹ˆå°±ä¼šè¢«`for...in`å¾ªçŽ¯éåŽ†åˆ°ã€‚ä½†æ˜¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯åªæƒ³éåŽ†å¯¹è±¡è‡ªèº«çš„å±žæ€§ï¼Œæ‰€ä»¥ä½¿ç”¨`for...in`çš„æ—¶å€™ï¼Œåº”è¯¥ç»“åˆä½¿ç”¨`hasOwnProperty`æ–¹æ³•ï¼Œåœ¨å¾ªçŽ¯å†…éƒ¨åˆ¤æ–­ä¸€ä¸‹ï¼ŒæŸä¸ªå±žæ€§æ˜¯å¦ä¸ºå¯¹è±¡è‡ªèº«çš„å±žæ€§ã€‚

```
var person = { name: 'è€å¼ ' };

for (var key in person) {
  if (person.hasOwnProperty(key)) {
    console.log(key);
  }
}
// name
```

###	3. with è¯­å¥

`with`è¯­å¥çš„æ ¼å¼å¦‚ä¸‹ï¼š

```
with (å¯¹è±¡) {
  è¯­å¥;
}
```

å®ƒçš„ä½œç”¨æ˜¯æ“ä½œåŒä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå±žæ€§æ—¶ï¼Œæä¾›ä¸€äº›ä¹¦å†™çš„æ–¹ä¾¿ã€‚

```
// ä¾‹ä¸€
var obj = {
  p1: 1,
  p2: 2,
};
with (obj) {
  p1 = 4;
  p2 = 5;
}
// ç­‰åŒäºŽ
obj.p1 = 4;
obj.p2 = 5;

// ä¾‹äºŒ
with (document.links[0]){
  console.log(href);
  console.log(title);
  console.log(style);
}
// ç­‰åŒäºŽ
console.log(document.links[0].href);
console.log(document.links[0].title);
console.log(document.links[0].style);
```

æ³¨æ„ï¼Œå¦‚æžœ`with`åŒºå—å†…éƒ¨æœ‰å˜é‡çš„èµ‹å€¼æ“ä½œï¼Œå¿…é¡»æ˜¯å½“å‰å¯¹è±¡å·²ç»å­˜åœ¨çš„å±žæ€§ï¼Œå¦åˆ™ä¼šåˆ›é€ ä¸€ä¸ªå½“å‰ä½œç”¨åŸŸçš„å…¨å±€å˜é‡ã€‚

```
var obj = {};
with (obj) {
  p1 = 4;
  p2 = 5;
}

obj.p1 // undefined
p1 // 4
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`å¹¶æ²¡æœ‰`p1`å±žæ€§ï¼Œå¯¹`p1`èµ‹å€¼ç­‰äºŽåˆ›é€ äº†ä¸€ä¸ªå…¨å±€å˜é‡`p1`ã€‚æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ï¼Œå…ˆå®šä¹‰å¯¹è±¡`obj`çš„å±žæ€§`p1`ï¼Œç„¶åŽåœ¨`with`åŒºå—å†…æ“ä½œå®ƒã€‚

è¿™æ˜¯å› ä¸º`with`åŒºå—æ²¡æœ‰æ”¹å˜ä½œç”¨åŸŸï¼Œå®ƒçš„å†…éƒ¨ä¾ç„¶æ˜¯å½“å‰ä½œç”¨åŸŸã€‚è¿™é€ æˆäº†`with`è¯­å¥çš„ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç—…ï¼Œå°±æ˜¯ç»‘å®šå¯¹è±¡ä¸æ˜Žç¡®ã€‚

```
with (obj) {
  console.log(x);
}
```

å•çº¯ä»Žä¸Šé¢çš„ä»£ç å—ï¼Œæ ¹æœ¬æ— æ³•åˆ¤æ–­`x`åˆ°åº•æ˜¯å…¨å±€å˜é‡ï¼Œè¿˜æ˜¯å¯¹è±¡`obj`çš„ä¸€ä¸ªå±žæ€§ã€‚è¿™éžå¸¸ä¸åˆ©äºŽä»£ç çš„é™¤é”™å’Œæ¨¡å—åŒ–ï¼Œç¼–è¯‘å™¨ä¹Ÿæ— æ³•å¯¹è¿™æ®µä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œåªèƒ½ç•™åˆ°è¿è¡Œæ—¶åˆ¤æ–­ï¼Œè¿™å°±æ‹–æ…¢äº†è¿è¡Œé€Ÿåº¦ã€‚å› æ­¤ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨`with`è¯­å¥ï¼Œå¯ä»¥è€ƒè™‘ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ä»£æ›¿`with`ã€‚

```
with(obj1.obj2.obj3) {
  console.log(p1 + p2);
}

// å¯ä»¥å†™æˆ
var temp = obj1.obj2.obj3;
console.log(temp.p1 + temp.p2);
```

## å‡½æ•°

å‡½æ•°æ˜¯ä¸€æ®µå¯ä»¥åå¤è°ƒç”¨çš„ä»£ç å—ã€‚å‡½æ•°è¿˜èƒ½æŽ¥å—è¾“å…¥çš„å‚æ•°ï¼Œä¸åŒçš„å‚æ•°ä¼šè¿”å›žä¸åŒçš„å€¼ã€‚

### 1. æ¦‚è¿°

#### 1.1 å‡½æ•°çš„å£°æ˜Ž

JavaScript æœ‰ä¸‰ç§å£°æ˜Žå‡½æ•°çš„æ–¹æ³•

ï¼ˆ1ï¼‰`function` å‘½ä»¤

`function`å‘½ä»¤å£°æ˜Žçš„ä»£ç åŒºå—ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚`function`å‘½ä»¤åŽé¢æ˜¯å‡½æ•°åï¼Œå‡½æ•°ååŽé¢æ˜¯ä¸€å¯¹åœ†æ‹¬å·ï¼Œé‡Œé¢æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°ã€‚å‡½æ•°ä½“æ”¾åœ¨å¤§æ‹¬å·é‡Œé¢ã€‚

```
function print(s) {
  console.log(s);
}
```

ä¸Šé¢çš„ä»£ç å‘½åäº†ä¸€ä¸ª`print`å‡½æ•°ï¼Œä»¥åŽä½¿ç”¨`print()`è¿™ç§å½¢å¼ï¼Œå°±å¯ä»¥è°ƒç”¨ç›¸åº”çš„ä»£ç ã€‚è¿™å«åšå‡½æ•°çš„å£°æ˜Žï¼ˆFunction Declarationï¼‰ã€‚

ï¼ˆ2ï¼‰å‡½æ•°è¡¨è¾¾å¼

é™¤äº†ç”¨`function`å‘½ä»¤å£°æ˜Žå‡½æ•°ï¼Œè¿˜å¯ä»¥é‡‡ç”¨å˜é‡èµ‹å€¼çš„å†™æ³•ã€‚

```
var print = function(s) {
  console.log(s);
};
```

è¿™ç§å†™æ³•å°†ä¸€ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™å˜é‡ã€‚è¿™æ—¶ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°åˆç§°å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰ï¼Œå› ä¸ºèµ‹å€¼è¯­å¥çš„ç­‰å·å³ä¾§åªèƒ½æ”¾è¡¨è¾¾å¼ã€‚

é‡‡ç”¨å‡½æ•°è¡¨è¾¾å¼å£°æ˜Žå‡½æ•°æ—¶ï¼Œ`function`å‘½ä»¤åŽé¢ä¸å¸¦æœ‰å‡½æ•°åã€‚å¦‚æžœåŠ ä¸Šå‡½æ•°åï¼Œè¯¥å‡½æ•°ååªåœ¨å‡½æ•°ä½“å†…éƒ¨æœ‰æ•ˆï¼Œåœ¨å‡½æ•°ä½“å¤–éƒ¨æ— æ•ˆã€‚

```
var print = function x(){
  console.log(typeof x);
};

x
// ReferenceError: x is not defined

print()
// function
```

ä¸Šé¢ä»£ç åœ¨å‡½æ•°è¡¨è¾¾å¼ä¸­ï¼ŒåŠ å…¥äº†å‡½æ•°å`x`ã€‚è¿™ä¸ª`x`åªåœ¨å‡½æ•°ä½“å†…éƒ¨å¯ç”¨ï¼ŒæŒ‡ä»£å‡½æ•°è¡¨è¾¾å¼æœ¬èº«ï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸å¯ç”¨ã€‚è¿™ç§å†™æ³•çš„ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯å¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼ŒäºŒæ˜¯æ–¹ä¾¿é™¤é”™ï¼ˆé™¤é”™å·¥å…·æ˜¾ç¤ºå‡½æ•°è°ƒç”¨æ ˆæ—¶ï¼Œå°†æ˜¾ç¤ºå‡½æ•°åï¼Œè€Œä¸å†æ˜¾ç¤ºè¿™é‡Œæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼‰ã€‚å› æ­¤ï¼Œä¸‹é¢çš„å½¢å¼å£°æ˜Žå‡½æ•°ä¹Ÿéžå¸¸å¸¸è§ã€‚

```
var f = function f() {};
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°çš„è¡¨è¾¾å¼éœ€è¦åœ¨è¯­å¥çš„ç»“å°¾åŠ ä¸Šåˆ†å·ï¼Œè¡¨ç¤ºè¯­å¥ç»“æŸã€‚è€Œå‡½æ•°çš„å£°æ˜Žåœ¨ç»“å°¾çš„å¤§æ‹¬å·åŽé¢ä¸ç”¨åŠ åˆ†å·ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™ä¸¤ç§å£°æ˜Žå‡½æ•°çš„æ–¹å¼ï¼Œå·®åˆ«å¾ˆç»†å¾®ï¼Œå¯ä»¥è¿‘ä¼¼è®¤ä¸ºæ˜¯ç­‰ä»·çš„ã€‚

ï¼ˆ3ï¼‰Function æž„é€ å‡½æ•°

ç¬¬ä¸‰ç§å£°æ˜Žå‡½æ•°çš„æ–¹å¼æ˜¯`Function`æž„é€ å‡½æ•°ã€‚

```
var add = new Function(
  'x',
  'y',
  'return x + y'
);

// ç­‰åŒäºŽ
function add(x, y) {
  return x + y;
}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`Function`æž„é€ å‡½æ•°æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œé™¤äº†æœ€åŽä¸€ä¸ªå‚æ•°æ˜¯`add`å‡½æ•°çš„â€œå‡½æ•°ä½“â€ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯`add`å‡½æ•°çš„å‚æ•°ã€‚

ä½ å¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å‚æ•°ç»™`Function`æž„é€ å‡½æ•°ï¼Œåªæœ‰æœ€åŽä¸€ä¸ªå‚æ•°ä¼šè¢«å½“åšå‡½æ•°ä½“ï¼Œå¦‚æžœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±æ˜¯å‡½æ•°ä½“ã€‚

```
var foo = new Function(
  'return "hello world";'
);

// ç­‰åŒäºŽ
function foo() {
  return 'hello world';
}
```

`Function`æž„é€ å‡½æ•°å¯ä»¥ä¸ä½¿ç”¨`new`å‘½ä»¤ï¼Œè¿”å›žç»“æžœå®Œå…¨ä¸€æ ·ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ç§å£°æ˜Žå‡½æ•°çš„æ–¹å¼éžå¸¸ä¸ç›´è§‚ï¼Œå‡ ä¹Žæ— äººä½¿ç”¨ã€‚

#### 1.2 å‡½æ•°çš„é‡å¤å£°æ˜Ž

å¦‚æžœåŒä¸€ä¸ªå‡½æ•°è¢«å¤šæ¬¡å£°æ˜Žï¼ŒåŽé¢çš„å£°æ˜Žå°±ä¼šè¦†ç›–å‰é¢çš„å£°æ˜Žã€‚

```
function f() {
  console.log(1);
}
f() // 2

function f() {
  console.log(2);
}
f() // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼ŒåŽä¸€æ¬¡çš„å‡½æ•°å£°æ˜Žè¦†ç›–äº†å‰é¢ä¸€æ¬¡ã€‚è€Œä¸”ï¼Œç”±äºŽå‡½æ•°åçš„æå‡ï¼Œå‰ä¸€æ¬¡å£°æ˜Žåœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯æ— æ•ˆçš„ï¼Œè¿™ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ã€‚

#### 1.3 åœ†æ‹¬å·è¿ç®—ç¬¦ï¼Œreturn è¯­å¥å’Œé€’å½’

è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¦ä½¿ç”¨åœ†æ‹¬å·è¿ç®—ç¬¦ã€‚åœ†æ‹¬å·ä¹‹ä¸­ï¼Œå¯ä»¥åŠ å…¥å‡½æ•°çš„å‚æ•°ã€‚

```
function add(x, y) {
  return x + y;
}

add(1, 1) // 2
```
	
ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°ååŽé¢ç´§è·Ÿä¸€å¯¹åœ†æ‹¬å·ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚

å‡½æ•°ä½“å†…éƒ¨çš„`return`è¯­å¥ï¼Œè¡¨ç¤ºè¿”å›žã€‚JavaScript å¼•æ“Žé‡åˆ°`return`è¯­å¥ï¼Œå°±ç›´æŽ¥è¿”å›ž`return`åŽé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼ŒåŽé¢å³ä½¿è¿˜æœ‰è¯­å¥ï¼Œä¹Ÿä¸ä¼šå¾—åˆ°æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`return`è¯­å¥æ‰€å¸¦çš„é‚£ä¸ªè¡¨è¾¾å¼ï¼Œå°±æ˜¯å‡½æ•°çš„è¿”å›žå€¼ã€‚`return`è¯­å¥ä¸æ˜¯å¿…éœ€çš„ï¼Œå¦‚æžœæ²¡æœ‰çš„è¯ï¼Œè¯¥å‡½æ•°å°±ä¸è¿”å›žä»»ä½•å€¼ï¼Œæˆ–è€…è¯´è¿”å›ž`undefined`ã€‚

å‡½æ•°å¯ä»¥è°ƒç”¨è‡ªèº«ï¼Œè¿™å°±æ˜¯é€’å½’ï¼ˆrecursionï¼‰ã€‚ä¸‹é¢å°±æ˜¯é€šè¿‡é€’å½’ï¼Œè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ã€‚

```
function fib(num) {
  if (num === 0) return 0;
  if (num === 1) return 1;
  return fib(num - 2) + fib(num - 1);
}

fib(6) // 8
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`fib`å‡½æ•°å†…éƒ¨åˆè°ƒç”¨äº†`fib`ï¼Œè®¡ç®—å¾—åˆ°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬6ä¸ªå…ƒç´ æ˜¯8ã€‚

#### 1.4 ç¬¬ä¸€ç­‰å…¬æ°‘

JavaScript è¯­è¨€å°†å‡½æ•°çœ‹ä½œä¸€ç§å€¼ï¼Œä¸Žå…¶å®ƒå€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ç­‰ï¼‰åœ°ä½ç›¸åŒã€‚å‡¡æ˜¯å¯ä»¥ä½¿ç”¨å€¼çš„åœ°æ–¹ï¼Œå°±èƒ½ä½¿ç”¨å‡½æ•°ã€‚æ¯”å¦‚ï¼Œå¯ä»¥æŠŠå‡½æ•°èµ‹å€¼ç»™å˜é‡å’Œå¯¹è±¡çš„å±žæ€§ï¼Œä¹Ÿå¯ä»¥å½“ä½œå‚æ•°ä¼ å…¥å…¶ä»–å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°çš„ç»“æžœè¿”å›žã€‚å‡½æ•°åªæ˜¯ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„å€¼ï¼Œæ­¤å¤–å¹¶æ— ç‰¹æ®Šä¹‹å¤„ã€‚

ç”±äºŽå‡½æ•°ä¸Žå…¶ä»–æ•°æ®ç±»åž‹åœ°ä½å¹³ç­‰ï¼Œæ‰€ä»¥åœ¨ JavaScript è¯­è¨€ä¸­åˆç§°å‡½æ•°ä¸ºç¬¬ä¸€ç­‰å…¬æ°‘ã€‚

```
function add(x, y) {
  return x + y;
}

// å°†å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡
var operator = add;

// å°†å‡½æ•°ä½œä¸ºå‚æ•°å’Œè¿”å›žå€¼
function a(op){
  return op;
}
a(add)(1, 1)
// 2
```

#### 1.5 å‡½æ•°åçš„æå‡

JavaScript å¼•æ“Žå°†å‡½æ•°åè§†åŒå˜é‡åï¼Œæ‰€ä»¥é‡‡ç”¨`function`å‘½ä»¤å£°æ˜Žå‡½æ•°æ—¶ï¼Œæ•´ä¸ªå‡½æ•°ä¼šåƒå˜é‡å£°æ˜Žä¸€æ ·ï¼Œè¢«æå‡åˆ°ä»£ç å¤´éƒ¨ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç ä¸ä¼šæŠ¥é”™ã€‚

```
f();

function f() {}
```

è¡¨é¢ä¸Šï¼Œä¸Šé¢ä»£ç å¥½åƒåœ¨å£°æ˜Žä¹‹å‰å°±è°ƒç”¨äº†å‡½æ•°`f`ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼Œç”±äºŽâ€œå˜é‡æå‡â€ï¼Œå‡½æ•°`f`è¢«æå‡åˆ°äº†ä»£ç å¤´éƒ¨ï¼Œä¹Ÿå°±æ˜¯åœ¨è°ƒç”¨ä¹‹å‰å·²ç»å£°æ˜Žäº†ã€‚ä½†æ˜¯ï¼Œå¦‚æžœé‡‡ç”¨èµ‹å€¼è¯­å¥å®šä¹‰å‡½æ•°ï¼ŒJavaScript å°±ä¼šæŠ¥é”™ã€‚

```
f();
var f = function (){};
// TypeError: undefined is not a function
```

ä¸Šé¢çš„ä»£ç ç­‰åŒäºŽä¸‹é¢çš„å½¢å¼ã€‚

```
var f;
f();
f = function () {};
```

ä¸Šé¢ä»£ç ç¬¬äºŒè¡Œï¼Œè°ƒç”¨`f`çš„æ—¶å€™ï¼Œ`f`åªæ˜¯è¢«å£°æ˜Žäº†ï¼Œè¿˜æ²¡æœ‰è¢«èµ‹å€¼ï¼Œç­‰äºŽ`undefined`ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚å› æ­¤ï¼Œå¦‚æžœåŒæ—¶é‡‡ç”¨`function`å‘½ä»¤å’Œèµ‹å€¼è¯­å¥å£°æ˜ŽåŒä¸€ä¸ªå‡½æ•°ï¼Œæœ€åŽæ€»æ˜¯é‡‡ç”¨èµ‹å€¼è¯­å¥çš„å®šä¹‰ã€‚

```
var f = function () {
  console.log('1');
}

function f() {
  console.log('2');
}

f() // 1
```

### 2. å‡½æ•°çš„å±žæ€§å’Œæ–¹æ³•

#### 2.1 name å±žæ€§

å‡½æ•°çš„`name`å±žæ€§è¿”å›žå‡½æ•°çš„åå­—ã€‚

```
function f1() {}
f1.name // "f1"
```

å¦‚æžœæ˜¯é€šè¿‡å˜é‡èµ‹å€¼å®šä¹‰çš„å‡½æ•°ï¼Œé‚£ä¹ˆ`name`å±žæ€§è¿”å›žå˜é‡åã€‚

```
var f2 = function () {};
f2.name // "f2"
```

ä½†æ˜¯ï¼Œä¸Šé¢è¿™ç§æƒ…å†µï¼Œåªæœ‰åœ¨å˜é‡çš„å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°æ—¶æ‰æ˜¯å¦‚æ­¤ã€‚å¦‚æžœå˜é‡çš„å€¼æ˜¯ä¸€ä¸ªå…·åå‡½æ•°ï¼Œé‚£ä¹ˆ`name`å±žæ€§è¿”å›ž`function`å…³é”®å­—ä¹‹åŽçš„é‚£ä¸ªå‡½æ•°åã€‚

```
var f3 = function myName() {};
f3.name // 'myName'
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`f3.name`è¿”å›žå‡½æ•°è¡¨è¾¾å¼çš„åå­—ã€‚æ³¨æ„ï¼ŒçœŸæ­£çš„å‡½æ•°åè¿˜æ˜¯`f3`ï¼Œè€Œ`myName`è¿™ä¸ªåå­—åªåœ¨å‡½æ•°ä½“å†…éƒ¨å¯ç”¨ã€‚

`name`å±žæ€§çš„ä¸€ä¸ªç”¨å¤„ï¼Œå°±æ˜¯èŽ·å–å‚æ•°å‡½æ•°çš„åå­—ã€‚

```
var myFunc = function () {};

function test(f) {
  console.log(f.name);
}

test(myFunc) // myFunc
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`test`å†…éƒ¨é€šè¿‡`name`å±žæ€§ï¼Œå°±å¯ä»¥çŸ¥é“ä¼ å…¥çš„å‚æ•°æ˜¯ä»€ä¹ˆå‡½æ•°ã€‚

#### 2.2 length å±žæ€§

å‡½æ•°çš„`length`å±žæ€§è¿”å›žå‡½æ•°é¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°ï¼Œå³å‡½æ•°å®šä¹‰ä¹‹ä¸­çš„å‚æ•°ä¸ªæ•°ã€‚

```
function f(a, b) {}
f.length // 2
```

ä¸Šé¢ä»£ç å®šä¹‰äº†ç©ºå‡½æ•°`f`ï¼Œå®ƒçš„`length`å±žæ€§å°±æ˜¯å®šä¹‰æ—¶çš„å‚æ•°ä¸ªæ•°ã€‚ä¸ç®¡è°ƒç”¨æ—¶è¾“å…¥äº†å¤šå°‘ä¸ªå‚æ•°ï¼Œ`length`å±žæ€§å§‹ç»ˆç­‰äºŽ2ã€‚

`length`å±žæ€§æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œåˆ¤æ–­å®šä¹‰æ—¶å’Œè°ƒç”¨æ—¶å‚æ•°çš„å·®å¼‚ï¼Œä»¥ä¾¿å®žçŽ°é¢å‘å¯¹è±¡ç¼–ç¨‹çš„â€æ–¹æ³•é‡è½½â€œï¼ˆoverloadï¼‰ã€‚

### 2.3 toString()

å‡½æ•°çš„`toString`æ–¹æ³•è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†…å®¹æ˜¯å‡½æ•°çš„æºç ã€‚

```
function f() {
  a();
  b();
  c();
}

f.toString()
// function f() {
//  a();
//  b();
//  c();
// }
```

å‡½æ•°å†…éƒ¨çš„æ³¨é‡Šä¹Ÿå¯ä»¥è¿”å›žã€‚

```
function f() {/*
  è¿™æ˜¯ä¸€ä¸ª
  å¤šè¡Œæ³¨é‡Š
*/}

f.toString()
// "function f(){/*
//   è¿™æ˜¯ä¸€ä¸ª
//   å¤šè¡Œæ³¨é‡Š
// */}"
```

åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å˜ç›¸å®žçŽ°å¤šè¡Œå­—ç¬¦ä¸²ã€‚

```
var multiline = function (fn) {
  var arr = fn.toString().split('\n');
  return arr.slice(1, arr.length - 1).join('\n');
};

function f() {/*
  è¿™æ˜¯ä¸€ä¸ª
  å¤šè¡Œæ³¨é‡Š
*/}

multiline(f);
// " è¿™æ˜¯ä¸€ä¸ª
//   å¤šè¡Œæ³¨é‡Š"
```

### 3. å‡½æ•°ä½œç”¨åŸŸ

#### 3.1 å®šä¹‰

ä½œç”¨åŸŸï¼ˆscopeï¼‰æŒ‡çš„æ˜¯å˜é‡å­˜åœ¨çš„èŒƒå›´ã€‚åœ¨ ES5 çš„è§„èŒƒä¸­ï¼ŒJavascript åªæœ‰ä¸¤ç§ä½œç”¨åŸŸï¼šä¸€ç§æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œå˜é‡åœ¨æ•´ä¸ªç¨‹åºä¸­ä¸€ç›´å­˜åœ¨ï¼Œæ‰€æœ‰åœ°æ–¹éƒ½å¯ä»¥è¯»å–ï¼›å¦ä¸€ç§æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå˜é‡åªåœ¨å‡½æ•°å†…éƒ¨å­˜åœ¨ã€‚

å‡½æ•°å¤–éƒ¨å£°æ˜Žçš„å˜é‡å°±æ˜¯å…¨å±€å˜é‡ï¼ˆglobal variableï¼‰ï¼Œå®ƒå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è¯»å–ã€‚

```
var v = 1;

function f() {
  console.log(v);
}

f()
// 1
```

ä¸Šé¢çš„ä»£ç è¡¨æ˜Žï¼Œå‡½æ•°`f`å†…éƒ¨å¯ä»¥è¯»å–å…¨å±€å˜é‡`v`ã€‚

åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå¤–éƒ¨æ— æ³•è¯»å–ï¼Œç§°ä¸ºâ€œå±€éƒ¨å˜é‡â€ï¼ˆlocal variableï¼‰ã€‚

```
function f(){
  var v = 1;
}

v // ReferenceError: v is not defined
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`v`åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå‡½æ•°ä¹‹å¤–å°±æ— æ³•è¯»å–ã€‚

å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œä¼šåœ¨è¯¥ä½œç”¨åŸŸå†…è¦†ç›–åŒåå…¨å±€å˜é‡ã€‚

```
var v = 1;

function f(){
  var v = 2;
  console.log(v);
}

f() // 2
v // 1
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`v`åŒæ—¶åœ¨å‡½æ•°çš„å¤–éƒ¨å’Œå†…éƒ¨æœ‰å®šä¹‰ã€‚ç»“æžœï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œå±€éƒ¨å˜é‡`v`è¦†ç›–äº†å…¨å±€å˜é‡`v`ã€‚

æ³¨æ„ï¼Œå¯¹äºŽ`var`å‘½ä»¤æ¥è¯´ï¼Œå±€éƒ¨å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å£°æ˜Žï¼Œåœ¨å…¶ä»–åŒºå—ä¸­å£°æ˜Žï¼Œä¸€å¾‹éƒ½æ˜¯å…¨å±€å˜é‡ã€‚

```
if (true) {
  var x = 5;
}
console.log(x);  // 5
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`x`åœ¨æ¡ä»¶åˆ¤æ–­åŒºå—ä¹‹ä¸­å£°æ˜Žï¼Œç»“æžœå°±æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¯ä»¥åœ¨åŒºå—ä¹‹å¤–è¯»å–ã€‚

#### 3.2 å‡½æ•°å†…éƒ¨çš„å˜é‡æå‡

ä¸Žå…¨å±€ä½œç”¨åŸŸä¸€æ ·ï¼Œå‡½æ•°ä½œç”¨åŸŸå†…éƒ¨ä¹Ÿä¼šäº§ç”Ÿâ€œå˜é‡æå‡â€çŽ°è±¡ã€‚`var`å‘½ä»¤å£°æ˜Žçš„å˜é‡ï¼Œä¸ç®¡åœ¨ä»€ä¹ˆä½ç½®ï¼Œå˜é‡å£°æ˜Žéƒ½ä¼šè¢«æå‡åˆ°å‡½æ•°ä½“çš„å¤´éƒ¨ã€‚

```
function foo(x) {
  if (x > 100) {
    var tmp = x - 100;
  }
}

// ç­‰åŒäºŽ
function foo(x) {
  var tmp;
  if (x > 100) {
    tmp = x - 100;
  };
}
```

#### 3.3 å‡½æ•°æœ¬èº«çš„ä½œç”¨åŸŸ

å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚å®ƒçš„ä½œç”¨åŸŸä¸Žå˜é‡ä¸€æ ·ï¼Œå°±æ˜¯å…¶å£°æ˜Žæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œä¸Žå…¶è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæ— å…³ã€‚

```
var a = 1;
var x = function () {
  console.log(a);
};

function f() {
  var a = 2;
  x();
}

f() // 1
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`x`æ˜¯åœ¨å‡½æ•°`f`çš„å¤–éƒ¨å£°æ˜Žçš„ï¼Œæ‰€ä»¥å®ƒçš„ä½œç”¨åŸŸç»‘å®šå¤–å±‚ï¼Œå†…éƒ¨å˜é‡`a`ä¸ä¼šåˆ°å‡½æ•°`f`ä½“å†…å–å€¼ï¼Œæ‰€ä»¥è¾“å‡º1ï¼Œè€Œä¸æ˜¯2ã€‚

æ€»ä¹‹ï¼Œå‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œæ˜¯å®šä¹‰æ—¶çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯è°ƒç”¨æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚

å¾ˆå®¹æ˜“çŠ¯é”™çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æžœå‡½æ•°Aè°ƒç”¨å‡½æ•°Bï¼Œå´æ²¡è€ƒè™‘åˆ°å‡½æ•°Bä¸ä¼šå¼•ç”¨å‡½æ•°Açš„å†…éƒ¨å˜é‡ã€‚

```
var x = function () {
  console.log(a);
};

function y(f) {
  var a = 2;
  f();
}

y(x)
// ReferenceError: a is not defined
```

ä¸Šé¢ä»£ç å°†å‡½æ•°`x`ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥å‡½æ•°`y`ã€‚ä½†æ˜¯ï¼Œå‡½æ•°`x`æ˜¯åœ¨å‡½æ•°`y`ä½“å¤–å£°æ˜Žçš„ï¼Œä½œç”¨åŸŸç»‘å®šå¤–å±‚ï¼Œå› æ­¤æ‰¾ä¸åˆ°å‡½æ•°`y`çš„å†…éƒ¨å˜é‡`a`ï¼Œå¯¼è‡´æŠ¥é”™ã€‚

åŒæ ·çš„ï¼Œå‡½æ•°ä½“å†…éƒ¨å£°æ˜Žçš„å‡½æ•°ï¼Œä½œç”¨åŸŸç»‘å®šå‡½æ•°ä½“å†…éƒ¨ã€‚


```
function foo() {
  var x = 1;
  function bar() {
    console.log(x);
  }
  return bar;
}

var x = 2;
var f = foo();
f() // 1
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`foo`å†…éƒ¨å£°æ˜Žäº†ä¸€ä¸ªå‡½æ•°`bar`ï¼Œ`bar`çš„ä½œç”¨åŸŸç»‘å®š`foo`ã€‚å½“æˆ‘ä»¬åœ¨`foo`å¤–éƒ¨å–å‡º`bar`æ‰§è¡Œæ—¶ï¼Œå˜é‡`x`æŒ‡å‘çš„æ˜¯`foo`å†…éƒ¨çš„`x`ï¼Œè€Œä¸æ˜¯`foo`å¤–éƒ¨çš„`x`ã€‚æ­£æ˜¯è¿™ç§æœºåˆ¶ï¼Œæž„æˆäº†â€œé—­åŒ…â€çŽ°è±¡ã€‚

### 4. å‚æ•°

#### 4.1 æ¦‚è¿°

å‡½æ•°è¿è¡Œçš„æ—¶å€™ï¼Œæœ‰æ—¶éœ€è¦æä¾›å¤–éƒ¨æ•°æ®ï¼Œä¸åŒçš„å¤–éƒ¨æ•°æ®ä¼šå¾—åˆ°ä¸åŒçš„ç»“æžœï¼Œè¿™ç§å¤–éƒ¨æ•°æ®å°±å«å‚æ•°ã€‚

```
function square(x) {
  return x * x;
}

square(2) // 4
square(3) // 9
```

ä¸Šå¼çš„`x`å°±æ˜¯`square`å‡½æ•°çš„å‚æ•°ã€‚æ¯æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œéœ€è¦æä¾›è¿™ä¸ªå€¼ï¼Œå¦åˆ™å¾—ä¸åˆ°ç»“æžœã€‚

#### 4.2 å‚æ•°çš„çœç•¥

å‡½æ•°å‚æ•°ä¸æ˜¯å¿…éœ€çš„ï¼ŒJavascript å…è®¸çœç•¥å‚æ•°ã€‚

```
function f(a, b) {
  return a;
}

f(1, 2, 3) // 1
f(1) // 1
f() // undefined

f.length // 2
```

ä¸Šé¢ä»£ç çš„å‡½æ•°`f`å®šä¹‰äº†ä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯è¿è¡Œæ—¶æ— è®ºæä¾›å¤šå°‘ä¸ªå‚æ•°ï¼ˆæˆ–è€…ä¸æä¾›å‚æ•°ï¼‰ï¼ŒJavaScript éƒ½ä¸ä¼šæŠ¥é”™ã€‚çœç•¥çš„å‚æ•°çš„å€¼å°±å˜ä¸º`undefined`ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°çš„`length`å±žæ€§ä¸Žå®žé™…ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ— å…³ï¼Œåªåæ˜ å‡½æ•°é¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°ã€‚

ä½†æ˜¯ï¼Œæ²¡æœ‰åŠžæ³•åªçœç•¥é å‰çš„å‚æ•°ï¼Œè€Œä¿ç•™é åŽçš„å‚æ•°ã€‚å¦‚æžœä¸€å®šè¦çœç•¥é å‰çš„å‚æ•°ï¼Œåªæœ‰æ˜¾å¼ä¼ å…¥undefinedã€‚

```
function f(a, b) {
  return a;
}

f( , 1) // SyntaxError: Unexpected token ,(â€¦)
f(undefined, 1) // undefined
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœçœç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚

#### 4.3 ä¼ é€’æ–¹å¼

å‡½æ•°å‚æ•°å¦‚æžœæ˜¯åŽŸå§‹ç±»åž‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œä¼ é€’æ–¹å¼æ˜¯ä¼ å€¼ä¼ é€’ï¼ˆpasses by valueï¼‰ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨å‡½æ•°ä½“å†…ä¿®æ”¹å‚æ•°å€¼ï¼Œä¸ä¼šå½±å“åˆ°å‡½æ•°å¤–éƒ¨ã€‚

```
var p = 2;

function f(p) {
  p = 3;
}
f(p);

p // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`p`æ˜¯ä¸€ä¸ªåŽŸå§‹ç±»åž‹çš„å€¼ï¼Œä¼ å…¥å‡½æ•°`f`çš„æ–¹å¼æ˜¯ä¼ å€¼ä¼ é€’ã€‚å› æ­¤ï¼Œåœ¨å‡½æ•°å†…éƒ¨ï¼Œ`p`çš„å€¼æ˜¯åŽŸå§‹å€¼çš„æ‹·è´ï¼Œæ— è®ºæ€Žä¹ˆä¿®æ”¹ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°åŽŸå§‹å€¼ã€‚

ä½†æ˜¯ï¼Œå¦‚æžœå‡½æ•°å‚æ•°æ˜¯å¤åˆç±»åž‹çš„å€¼ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å…¶ä»–å‡½æ•°ï¼‰ï¼Œä¼ é€’æ–¹å¼æ˜¯ä¼ å€ä¼ é€’ï¼ˆpass by referenceï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼ å…¥å‡½æ•°çš„åŽŸå§‹å€¼çš„åœ°å€ï¼Œå› æ­¤åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å‚æ•°ï¼Œå°†ä¼šå½±å“åˆ°åŽŸå§‹å€¼ã€‚

```
var obj = { p: 1 };

function f(o) {
  o.p = 2;
}
f(obj);

obj.p // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œä¼ å…¥å‡½æ•°`f`çš„æ˜¯å‚æ•°å¯¹è±¡`obj`çš„åœ°å€ã€‚å› æ­¤ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹`obj`çš„å±žæ€§`p`ï¼Œä¼šå½±å“åˆ°åŽŸå§‹å€¼ã€‚

æ³¨æ„ï¼Œå¦‚æžœå‡½æ•°å†…éƒ¨ä¿®æ”¹çš„ï¼Œä¸æ˜¯å‚æ•°å¯¹è±¡çš„æŸä¸ªå±žæ€§ï¼Œè€Œæ˜¯æ›¿æ¢æŽ‰æ•´ä¸ªå‚æ•°ï¼Œè¿™æ—¶ä¸ä¼šå½±å“åˆ°åŽŸå§‹å€¼ã€‚

```
var obj = [1, 2, 3];

function f(o) {
  o = [2, 3, 4];
}
f(obj);

obj // [1, 2, 3]
```

ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨å‡½æ•°`f`å†…éƒ¨ï¼Œå‚æ•°å¯¹è±¡`obj`è¢«æ•´ä¸ªæ›¿æ¢æˆå¦ä¸€ä¸ªå€¼ã€‚è¿™æ—¶ä¸ä¼šå½±å“åˆ°åŽŸå§‹å€¼ã€‚è¿™æ˜¯å› ä¸ºï¼Œå½¢å¼å‚æ•°ï¼ˆoï¼‰çš„å€¼å®žé™…æ˜¯å‚æ•°`obj`çš„åœ°å€ï¼Œé‡æ–°å¯¹`o`èµ‹å€¼å¯¼è‡´`o`æŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼Œä¿å­˜åœ¨åŽŸåœ°å€ä¸Šçš„å€¼å½“ç„¶ä¸å—å½±å“ã€‚

#### 4.4 åŒåå‚æ•°

å¦‚æžœæœ‰åŒåçš„å‚æ•°ï¼Œåˆ™å–æœ€åŽå‡ºçŽ°çš„é‚£ä¸ªå€¼ã€‚

```
function f(a, a) {
  console.log(a);
}

f(1, 2) // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f`æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸”å‚æ•°åéƒ½æ˜¯`a`ã€‚å–å€¼çš„æ—¶å€™ï¼Œä»¥åŽé¢çš„`a`ä¸ºå‡†ï¼Œå³ä½¿åŽé¢çš„`a`æ²¡æœ‰å€¼æˆ–è¢«çœç•¥ï¼Œä¹Ÿæ˜¯ä»¥å…¶ä¸ºå‡†ã€‚

```
function f(a, a) {
  console.log(a);
}

f(1) // undefined
```

è°ƒç”¨å‡½æ•°`f`çš„æ—¶å€™ï¼Œæ²¡æœ‰æä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œ`a`çš„å–å€¼å°±å˜æˆäº†`undefined`ã€‚è¿™æ—¶ï¼Œå¦‚æžœè¦èŽ·å¾—ç¬¬ä¸€ä¸ª`a`çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨`arguments`å¯¹è±¡ã€‚

```
function f(a, a) {
  console.log(arguments[0]);
}

f(1) // 1
```

#### 4.5 arguments å¯¹è±¡

ï¼ˆ1ï¼‰å®šä¹‰

ç”±äºŽ JavaScript å…è®¸å‡½æ•°æœ‰ä¸å®šæ•°ç›®çš„å‚æ•°ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨è¯»å–æ‰€æœ‰å‚æ•°ã€‚è¿™å°±æ˜¯`arguments`å¯¹è±¡çš„ç”±æ¥ã€‚

`arguments`å¯¹è±¡åŒ…å«äº†å‡½æ•°è¿è¡Œæ—¶çš„æ‰€æœ‰å‚æ•°ï¼Œ`arguments[0]`å°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ`arguments[1]`å°±æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚è¿™ä¸ªå¯¹è±¡åªæœ‰åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚

```
var f = function (one) {
  console.log(arguments[0]);
  console.log(arguments[1]);
  console.log(arguments[2]);
}

f(1, 2, 3)
// 1
// 2
// 3
```

æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œ`arguments`å¯¹è±¡å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ã€‚

```
var f = function(a, b) {
  arguments[0] = 3;
  arguments[1] = 2;
  return a + b;
}

f(1, 1) // 5
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f`è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ï¼Œåœ¨å‡½æ•°å†…éƒ¨è¢«ä¿®æ”¹æˆ`3`å’Œ`2`ã€‚

ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ`arguments`å¯¹è±¡æ˜¯ä¸€ä¸ªåªè¯»å¯¹è±¡ï¼Œä¿®æ”¹å®ƒæ˜¯æ— æ•ˆçš„ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚

```
var f = function(a, b) {
  'use strict'; // å¼€å¯ä¸¥æ ¼æ¨¡å¼
  arguments[0] = 3; // æ— æ•ˆ
  arguments[1] = 2; // æ— æ•ˆ
  return a + b;
}

f(1, 1) // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°ä½“å†…æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ—¶ä¿®æ”¹`arguments`å¯¹è±¡å°±æ˜¯æ— æ•ˆçš„ã€‚

é€šè¿‡`arguments`å¯¹è±¡çš„`length`å±žæ€§ï¼Œå¯ä»¥åˆ¤æ–­å‡½æ•°è°ƒç”¨æ—¶åˆ°åº•å¸¦å‡ ä¸ªå‚æ•°ã€‚

```
function f() {
  return arguments.length;
}

f(1, 2, 3) // 3
f(1) // 1
f() // 0
```

ï¼ˆ2ï¼‰ä¸Žæ•°ç»„çš„å…³ç³»

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶`arguments`å¾ˆåƒæ•°ç»„ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æ•°ç»„ä¸“æœ‰çš„æ–¹æ³•ï¼ˆæ¯”å¦‚`slice`å’Œ`forEach`ï¼‰ï¼Œä¸èƒ½åœ¨`arguments`å¯¹è±¡ä¸Šç›´æŽ¥ä½¿ç”¨ã€‚

å¦‚æžœè¦è®©`arguments`å¯¹è±¡ä½¿ç”¨æ•°ç»„æ–¹æ³•ï¼ŒçœŸæ­£çš„è§£å†³æ–¹æ³•æ˜¯å°†`arguments`è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ä¸‹é¢æ˜¯ä¸¤ç§å¸¸ç”¨çš„è½¬æ¢æ–¹æ³•ï¼š`slice`æ–¹æ³•å’Œé€ä¸€å¡«å…¥æ–°æ•°ç»„ã€‚

```
var args = Array.prototype.slice.call(arguments);

// æˆ–è€…
var args = [];
for (var i = 0; i < arguments.length; i++) {
  args.push(arguments[i]);
}
```

ï¼ˆ3ï¼‰callee å±žæ€§

`arguments`å¯¹è±¡å¸¦æœ‰ä¸€ä¸ª`callee`å±žæ€§ï¼Œè¿”å›žå®ƒæ‰€å¯¹åº”çš„åŽŸå‡½æ•°ã€‚

```
var f = function () {
  console.log(arguments.callee === f);
}

f() // true
```

å¯ä»¥é€šè¿‡`arguments.callee`ï¼Œè¾¾åˆ°è°ƒç”¨å‡½æ•°è‡ªèº«çš„ç›®çš„ã€‚è¿™ä¸ªå±žæ€§åœ¨ä¸¥æ ¼æ¨¡å¼é‡Œé¢æ˜¯ç¦ç”¨çš„ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨ã€‚

### 5. å‡½æ•°çš„å…¶ä»–çŸ¥è¯†ç‚¹

#### 5.1 é—­åŒ…

é—­åŒ…ï¼ˆclosureï¼‰æ˜¯ Javascript è¯­è¨€çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œä¹Ÿæ˜¯å®ƒçš„ç‰¹è‰²ï¼Œå¾ˆå¤šé«˜çº§åº”ç”¨éƒ½è¦ä¾é é—­åŒ…å®žçŽ°ã€‚

ç†è§£é—­åŒ…ï¼Œé¦–å…ˆå¿…é¡»ç†è§£å˜é‡ä½œç”¨åŸŸã€‚å‰é¢æåˆ°ï¼ŒJavaScript æœ‰ä¸¤ç§ä½œç”¨åŸŸï¼šå…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æŽ¥è¯»å–å…¨å±€å˜é‡ã€‚

```
var n = 999;

function f1() {
  console.log(n);
}
f1() // 999
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°f1å¯ä»¥è¯»å–å…¨å±€å˜é‡`n`ã€‚

ä½†æ˜¯ï¼Œå‡½æ•°å¤–éƒ¨æ— æ³•è¯»å–å‡½æ•°å†…éƒ¨å£°æ˜Žçš„å˜é‡ã€‚

```
function f1() {
  var n = 999;
}

console.log(n)
// Uncaught ReferenceError: n is not defined(
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f1`å†…éƒ¨å£°æ˜Žçš„å˜é‡`n`ï¼Œå‡½æ•°å¤–æ˜¯æ— æ³•è¯»å–çš„ã€‚

å¦‚æžœå‡ºäºŽç§ç§åŽŸå› ï¼Œéœ€è¦å¾—åˆ°å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™æ˜¯åŠžä¸åˆ°çš„ï¼Œåªæœ‰é€šè¿‡å˜é€šæ–¹æ³•æ‰èƒ½å®žçŽ°ã€‚é‚£å°±æ˜¯åœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œå†å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚

```
function f1() {
  var n = 999;
  function f2() {
ã€€ã€€console.log(n); // 999
  }
}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f2`å°±åœ¨å‡½æ•°`f1`å†…éƒ¨ï¼Œè¿™æ—¶`f1`å†…éƒ¨çš„æ‰€æœ‰å±€éƒ¨å˜é‡ï¼Œå¯¹`f2`éƒ½æ˜¯å¯è§çš„ã€‚ä½†æ˜¯åè¿‡æ¥å°±ä¸è¡Œï¼Œ`f2`å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œå¯¹`f1`å°±æ˜¯ä¸å¯è§çš„ã€‚è¿™å°±æ˜¯ JavaScript è¯­è¨€ç‰¹æœ‰çš„"é“¾å¼ä½œç”¨åŸŸ"ç»“æž„ï¼ˆchain scopeï¼‰ï¼Œå­å¯¹è±¡ä¼šä¸€çº§ä¸€çº§åœ°å‘ä¸Šå¯»æ‰¾æ‰€æœ‰çˆ¶å¯¹è±¡çš„å˜é‡ã€‚æ‰€ä»¥ï¼Œçˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡ï¼Œå¯¹å­å¯¹è±¡éƒ½æ˜¯å¯è§çš„ï¼Œåä¹‹åˆ™ä¸æˆç«‹ã€‚

æ—¢ç„¶`f2`å¯ä»¥è¯»å–`f1`çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåªè¦æŠŠ`f2`ä½œä¸ºè¿”å›žå€¼ï¼Œæˆ‘ä»¬ä¸å°±å¯ä»¥åœ¨`f1`å¤–éƒ¨è¯»å–å®ƒçš„å†…éƒ¨å˜é‡äº†å—ï¼

```
function f1() {
  var n = 999;
  function f2() {
    console.log(n);
  }
  return f2;
}

var result = f1();
result(); // 999
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f1`çš„è¿”å›žå€¼å°±æ˜¯å‡½æ•°`f2`ï¼Œç”±äºŽ`f2`å¯ä»¥è¯»å–`f1`çš„å†…éƒ¨å˜é‡ï¼Œæ‰€ä»¥å°±å¯ä»¥åœ¨å¤–éƒ¨èŽ·å¾—`f1`çš„å†…éƒ¨å˜é‡äº†ã€‚

é—­åŒ…å°±æ˜¯å‡½æ•°`f2`ï¼Œå³èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ç”±äºŽåœ¨ JavaScript è¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å†…éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚é—­åŒ…æœ€å¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒå¯ä»¥â€œè®°ä½â€è¯žç”Ÿçš„çŽ¯å¢ƒï¼Œæ¯”å¦‚`f2`è®°ä½äº†å®ƒè¯žç”Ÿçš„çŽ¯å¢ƒ`f1`ï¼Œæ‰€ä»¥ä»Ž`f2`å¯ä»¥å¾—åˆ°`f1`çš„å†…éƒ¨å˜é‡ã€‚åœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿žæŽ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚

é—­åŒ…çš„æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ï¼Œå³é—­åŒ…å¯ä»¥ä½¿å¾—å®ƒè¯žç”ŸçŽ¯å¢ƒä¸€ç›´å­˜åœ¨ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œé—­åŒ…ä½¿å¾—å†…éƒ¨å˜é‡è®°ä½ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„è¿ç®—ç»“æžœã€‚

```
function createIncrementor(start) {
  return function () {
    return start++;
  };
}

var inc = createIncrementor(5);

inc() // 5
inc() // 6
inc() // 7
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`start`æ˜¯å‡½æ•°`createIncrementor`çš„å†…éƒ¨å˜é‡ã€‚é€šè¿‡é—­åŒ…ï¼Œ`start`çš„çŠ¶æ€è¢«ä¿ç•™äº†ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨éƒ½æ˜¯åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨çš„åŸºç¡€ä¸Šè¿›è¡Œè®¡ç®—ã€‚ä»Žä¸­å¯ä»¥çœ‹åˆ°ï¼Œé—­åŒ…`inc`ä½¿å¾—å‡½æ•°`createIncrementor`çš„å†…éƒ¨çŽ¯å¢ƒï¼Œä¸€ç›´å­˜åœ¨ã€‚æ‰€ä»¥ï¼Œé—­åŒ…å¯ä»¥çœ‹ä½œæ˜¯å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„ä¸€ä¸ªæŽ¥å£ã€‚

ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸåŽŸå› å°±åœ¨äºŽ`inc`å§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œè€Œ`inc`çš„å­˜åœ¨ä¾èµ–äºŽ`createIncrementor`ï¼Œå› æ­¤ä¹Ÿå§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è°ƒç”¨ç»“æŸåŽï¼Œè¢«åžƒåœ¾å›žæ”¶æœºåˆ¶å›žæ”¶ã€‚

é—­åŒ…çš„å¦ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å°è£…å¯¹è±¡çš„ç§æœ‰å±žæ€§å’Œç§æœ‰æ–¹æ³•ã€‚

```
function Person(name) {
  var _age;
  function setAge(n) {
    _age = n;
  }
  function getAge() {
    return _age;
  }

  return {
    name: name,
    getAge: getAge,
    setAge: setAge
  };
}

var p1 = Person('å¼ ä¸‰');
p1.setAge(25);
p1.getAge() // 25
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`Person`çš„å†…éƒ¨å˜é‡`_age`ï¼Œé€šè¿‡é—­åŒ…`getAge`å’Œ`setAge`ï¼Œå˜æˆäº†è¿”å›žå¯¹è±¡`p1`çš„ç§æœ‰å˜é‡ã€‚

æ³¨æ„ï¼Œå¤–å±‚å‡½æ•°æ¯æ¬¡è¿è¡Œï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„é—­åŒ…ï¼Œè€Œè¿™ä¸ªé—­åŒ…åˆä¼šä¿ç•™å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œæ‰€ä»¥å†…å­˜æ¶ˆè€—å¾ˆå¤§ã€‚å› æ­¤ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ã€‚

#### 5.2 ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰

åœ¨ Javascript ä¸­ï¼Œåœ†æ‹¬å·()æ˜¯ä¸€ç§è¿ç®—ç¬¦ï¼Œè·Ÿåœ¨å‡½æ•°åä¹‹åŽï¼Œè¡¨ç¤ºè°ƒç”¨è¯¥å‡½æ•°ã€‚æ¯”å¦‚ï¼Œ`print()`å°±è¡¨ç¤ºè°ƒç”¨`print`å‡½æ•°ã€‚

æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®šä¹‰å‡½æ•°ä¹‹åŽï¼Œç«‹å³è°ƒç”¨è¯¥å‡½æ•°ã€‚è¿™æ—¶ï¼Œä½ ä¸èƒ½åœ¨å‡½æ•°çš„å®šä¹‰ä¹‹åŽåŠ ä¸Šåœ†æ‹¬å·ï¼Œè¿™ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯ã€‚

```
function(){ /* code */ }();
// SyntaxError: Unexpected token (
```

äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŽŸå› æ˜¯ï¼Œ`function`è¿™ä¸ªå…³é”®å­—å³å¯ä»¥å½“ä½œè¯­å¥ï¼Œä¹Ÿå¯ä»¥å½“ä½œè¡¨è¾¾å¼ã€‚

```
// è¯­å¥
function f() {}

// è¡¨è¾¾å¼
var f = function f() {}
```

ä¸ºäº†é¿å…è§£æžä¸Šçš„æ­§ä¹‰ï¼ŒJavaScript å¼•æ“Žè§„å®šï¼Œå¦‚æžœ`function`å…³é”®å­—å‡ºçŽ°åœ¨è¡Œé¦–ï¼Œä¸€å¾‹è§£é‡Šæˆè¯­å¥ã€‚å› æ­¤ï¼ŒJavaScript å¼•æ“Žçœ‹åˆ°è¡Œé¦–æ˜¯`function`å…³é”®å­—ä¹‹åŽï¼Œè®¤ä¸ºè¿™ä¸€æ®µéƒ½æ˜¯å‡½æ•°çš„å®šä¹‰ï¼Œä¸åº”è¯¥ä»¥åœ†æ‹¬å·ç»“å°¾ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚

è§£å†³æ–¹æ³•å°±æ˜¯ä¸è¦è®©`function`å‡ºçŽ°åœ¨è¡Œé¦–ï¼Œè®©å¼•æ“Žå°†å…¶ç†è§£æˆä¸€ä¸ªè¡¨è¾¾å¼ã€‚æœ€ç®€å•çš„å¤„ç†ï¼Œå°±æ˜¯å°†å…¶æ”¾åœ¨ä¸€ä¸ªåœ†æ‹¬å·é‡Œé¢ã€‚

```
(function(){ /* code */ }());
// æˆ–è€…
(function(){ /* code */ })();
```

ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½æ˜¯ä»¥åœ†æ‹¬å·å¼€å¤´ï¼Œå¼•æ“Žå°±ä¼šè®¤ä¸ºåŽé¢è·Ÿçš„æ˜¯ä¸€ä¸ªè¡¨ç¤ºå¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å®šä¹‰è¯­å¥ï¼Œæ‰€ä»¥å°±é¿å…äº†é”™è¯¯ã€‚è¿™å°±å«åšâ€œç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼â€ï¼ˆImmediately-Invoked Function Expressionï¼‰ï¼Œç®€ç§° IIFEã€‚

æ³¨æ„ï¼Œä¸Šé¢ä¸¤ç§å†™æ³•æœ€åŽçš„åˆ†å·éƒ½æ˜¯å¿…é¡»çš„ã€‚å¦‚æžœçœç•¥åˆ†å·ï¼Œé‡åˆ°è¿žç€ä¸¤ä¸ª IIFEï¼Œå¯èƒ½å°±ä¼šæŠ¥é”™ã€‚

```
// æŠ¥é”™
(function(){ /* code */ }())
(function(){ /* code */ }())
```

ä¸Šé¢ä»£ç çš„ä¸¤è¡Œä¹‹é—´æ²¡æœ‰åˆ†å·ï¼ŒJavaScript ä¼šå°†å®ƒä»¬è¿žåœ¨ä¸€èµ·è§£é‡Šï¼Œå°†ç¬¬äºŒè¡Œè§£é‡Šä¸ºç¬¬ä¸€è¡Œçš„å‚æ•°ã€‚

æŽ¨è€Œå¹¿ä¹‹ï¼Œä»»ä½•è®©è§£é‡Šå™¨ä»¥è¡¨è¾¾å¼æ¥å¤„ç†å‡½æ•°å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½èƒ½äº§ç”ŸåŒæ ·çš„æ•ˆæžœï¼Œæ¯”å¦‚ä¸‹é¢ä¸‰ç§å†™æ³•ã€‚

```
var i = function(){ return 10; }();
true && function(){ /* code */ }();
0, function(){ /* code */ }();
```

ç”šè‡³åƒä¸‹é¢è¿™æ ·å†™ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

```
!function () { /* code */ }();
~function () { /* code */ }();
-function () { /* code */ }();
+function () { /* code */ }();
```

é€šå¸¸æƒ…å†µä¸‹ï¼Œåªå¯¹åŒ¿åå‡½æ•°ä½¿ç”¨è¿™ç§â€œç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼â€ã€‚å®ƒçš„ç›®çš„æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯ä¸å¿…ä¸ºå‡½æ•°å‘½åï¼Œé¿å…äº†æ±¡æŸ“å…¨å±€å˜é‡ï¼›äºŒæ˜¯ IIFE å†…éƒ¨å½¢æˆäº†ä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼Œå¯ä»¥å°è£…ä¸€äº›å¤–éƒ¨æ— æ³•è¯»å–çš„ç§æœ‰å˜é‡ã€‚

```
// å†™æ³•ä¸€
var tmp = newData;
processData(tmp);
storeData(tmp);

// å†™æ³•äºŒ
(function () {
  var tmp = newData;
  processData(tmp);
  storeData(tmp);
}());
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå†™æ³•äºŒæ¯”å†™æ³•ä¸€æ›´å¥½ï¼Œå› ä¸ºå®Œå…¨é¿å…äº†æ±¡æŸ“å…¨å±€å˜é‡ã€‚

### 6. eval å‘½ä»¤

#### 6.1 åŸºæœ¬ç”¨æ³•

`eval`å‘½ä»¤æŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶å°†è¿™ä¸ªå­—ç¬¦ä¸²å½“ä½œè¯­å¥æ‰§è¡Œã€‚

```
eval('var a = 1;');
a // 1
```

ä¸Šé¢ä»£ç å°†å­—ç¬¦ä¸²å½“ä½œè¯­å¥è¿è¡Œï¼Œç”Ÿæˆäº†å˜é‡`a`ã€‚

å¦‚æžœå‚æ•°å­—ç¬¦ä¸²æ— æ³•å½“ä½œè¯­å¥è¿è¡Œï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚

```
eval('3x') // Uncaught SyntaxError: Invalid or unexpected token
```

æ”¾åœ¨`eval`ä¸­çš„å­—ç¬¦ä¸²ï¼Œåº”è¯¥æœ‰ç‹¬è‡ªå­˜åœ¨çš„æ„ä¹‰ï¼Œä¸èƒ½ç”¨æ¥ä¸Ž`eval`ä»¥å¤–çš„å‘½ä»¤é…åˆä½¿ç”¨ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä¸‹é¢çš„ä»£ç å°†ä¼šæŠ¥é”™ã€‚

```
eval('return;'); // Uncaught SyntaxError: Illegal return statement
```

ä¸Šé¢ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸º`return`ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚

å¦‚æžœ`eval`çš„å‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šåŽŸæ ·è¿”å›žã€‚

```
eval(123) // 123
```

`eval`æ²¡æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œéƒ½åœ¨å½“å‰ä½œç”¨åŸŸå†…æ‰§è¡Œï¼Œå› æ­¤å¯èƒ½ä¼šä¿®æ”¹å½“å‰ä½œç”¨åŸŸçš„å˜é‡çš„å€¼ï¼Œé€ æˆå®‰å…¨é—®é¢˜ã€‚

```
var a = 1;
eval('a = 2');

a // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`eval`å‘½ä»¤ä¿®æ”¹äº†å¤–éƒ¨å˜é‡`a`çš„å€¼ã€‚ç”±äºŽè¿™ä¸ªåŽŸå› ï¼Œ`eval`æœ‰å®‰å…¨é£Žé™©ã€‚

ä¸ºäº†é˜²æ­¢è¿™ç§é£Žé™©ï¼ŒJavaScript è§„å®šï¼Œå¦‚æžœä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œ`eval`å†…éƒ¨å£°æ˜Žçš„å˜é‡ï¼Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨ä½œç”¨åŸŸã€‚

```
(function f() {
  'use strict';
  eval('var foo = 123');
  console.log(foo);  // ReferenceError: foo is not defined
})()
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`f`å†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ—¶`eval`å†…éƒ¨å£°æ˜Žçš„`foo`å˜é‡ï¼Œå°±ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ã€‚

ä¸è¿‡ï¼Œå³ä½¿åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ`eval`ä¾ç„¶å¯ä»¥è¯»å†™å½“å‰ä½œç”¨åŸŸçš„å˜é‡ã€‚

```
(function f() {
  'use strict';
  var foo = 1;
  eval('foo = 2');
  console.log(foo);  // 2
})()
```

ä¸Šé¢ä»£ç ä¸­ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ`eval`å†…éƒ¨è¿˜æ˜¯æ”¹å†™äº†å¤–éƒ¨å˜é‡ï¼Œå¯è§å®‰å…¨é£Žé™©ä¾ç„¶å­˜åœ¨ã€‚

æ€»ä¹‹ï¼Œ`eval`çš„æœ¬è´¨æ˜¯åœ¨å½“å‰ä½œç”¨åŸŸä¹‹ä¸­ï¼Œæ³¨å…¥ä»£ç ã€‚ç”±äºŽå®‰å…¨é£Žé™©å’Œä¸åˆ©äºŽ JavaScript å¼•æ“Žä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸æŽ¨èä½¿ç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œ`eval`æœ€å¸¸è§çš„åœºåˆæ˜¯è§£æž` JSON `æ•°æ®çš„å­—ç¬¦ä¸²ï¼Œä¸è¿‡æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ä½¿ç”¨åŽŸç”Ÿçš„`JSON.parse`æ–¹æ³•ã€‚

#### 6.2 eval çš„åˆ«åè°ƒç”¨ 

å‰é¢è¯´è¿‡`eval`ä¸åˆ©äºŽå¼•æ“Žä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦ã€‚æ›´éº»çƒ¦çš„æ˜¯ï¼Œè¿˜æœ‰ä¸‹é¢è¿™ç§æƒ…å†µï¼Œå¼•æ“Žåœ¨é™æ€ä»£ç åˆ†æžçš„é˜¶æ®µï¼Œæ ¹æœ¬æ— æ³•åˆ†è¾¨æ‰§è¡Œçš„æ˜¯`eval`ã€‚

```
var m = eval;
m('var x = 1');
x // 1
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡`m`æ˜¯`eval`çš„åˆ«åã€‚é™æ€ä»£ç åˆ†æžé˜¶æ®µï¼Œå¼•æ“Žåˆ†è¾¨ä¸å‡º`m('var x = 1')`æ‰§è¡Œçš„æ˜¯`eval`å‘½ä»¤ã€‚

ä¸ºäº†ä¿è¯`eval`çš„åˆ«åä¸å½±å“ä»£ç ä¼˜åŒ–ï¼ŒJavaScript çš„æ ‡å‡†è§„å®šï¼Œå‡¡æ˜¯ä½¿ç”¨åˆ«åæ‰§è¡Œ`eval`ï¼Œ`eval`å†…éƒ¨ä¸€å¾‹æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚

```
var a = 1;

function f() {
  var a = 2;
  var e = eval;
  e('console.log(a)');
}

f() // 1
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`eval`æ˜¯åˆ«åè°ƒç”¨ï¼Œæ‰€ä»¥å³ä½¿å®ƒæ˜¯åœ¨å‡½æ•°ä¸­ï¼Œå®ƒçš„ä½œç”¨åŸŸè¿˜æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œå› æ­¤è¾“å‡ºçš„`a`ä¸ºå…¨å±€å˜é‡ã€‚è¿™æ ·çš„è¯ï¼Œå¼•æ“Žå°±èƒ½ç¡®è®¤`e()`ä¸ä¼šå¯¹å½“å‰çš„å‡½æ•°ä½œç”¨åŸŸäº§ç”Ÿå½±å“ï¼Œä¼˜åŒ–çš„æ—¶å€™å°±å¯ä»¥æŠŠè¿™ä¸€è¡ŒæŽ’é™¤æŽ‰ã€‚

`eval`çš„åˆ«åè°ƒç”¨çš„å½¢å¼äº”èŠ±å…«é—¨ï¼Œåªè¦ä¸æ˜¯ç›´æŽ¥è°ƒç”¨ï¼Œéƒ½å±žäºŽåˆ«åè°ƒç”¨ï¼Œå› ä¸ºå¼•æ“Žåªèƒ½åˆ†è¾¨`eval()`è¿™ä¸€ç§å½¢å¼æ˜¯ç›´æŽ¥è°ƒç”¨ã€‚

```
eval.call(null, '...')
window.eval('...')
(1, eval)('...')
(eval, eval)('...')
```

ä¸Šé¢è¿™äº›å½¢å¼éƒ½æ˜¯evalçš„åˆ«åè°ƒç”¨ï¼Œä½œç”¨åŸŸéƒ½æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚

## æ•°ç»„

### 1. å®šä¹‰

æ•°ç»„ï¼ˆarrayï¼‰æ˜¯æŒ‰æ¬¡åºæŽ’åˆ—çš„ä¸€ç»„å€¼ã€‚æ¯ä¸ªå€¼çš„ä½ç½®éƒ½æœ‰ç¼–å·ï¼ˆä»Ž0å¼€å§‹ï¼‰ï¼Œæ•´ä¸ªæ•°ç»„ç”¨æ–¹æ‹¬å·è¡¨ç¤ºã€‚

```
var arr = ['a', 'b', 'c'];
```

ä¸Šé¢ä»£ç ä¸­çš„aã€bã€cå°±æž„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¸¤ç«¯çš„æ–¹æ‹¬å·æ˜¯æ•°ç»„çš„æ ‡å¿—ã€‚aæ˜¯0å·ä½ç½®ï¼Œbæ˜¯1å·ä½ç½®ï¼Œcæ˜¯2å·ä½ç½®ã€‚

é™¤äº†åœ¨å®šä¹‰æ—¶èµ‹å€¼ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥å…ˆå®šä¹‰åŽèµ‹å€¼ã€‚

```
var arr = [];

arr[0] = 'a';
arr[1] = 'b';
arr[2] = 'c';
```

ä»»ä½•ç±»åž‹çš„æ•°æ®ï¼Œéƒ½å¯ä»¥æ”¾å…¥æ•°ç»„ã€‚

```
var arr = [
  {a: 1},
  [1, 2, 3],
  function() {return true;}
];

arr[0] // Object {a: 1}
arr[1] // [1, 2, 3]
arr[2] // function (){return true;}
```

ä¸Šé¢æ•°ç»„`arr`çš„3ä¸ªæˆå‘˜ä¾æ¬¡æ˜¯å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ã€‚

å¦‚æžœæ•°ç»„çš„å…ƒç´ è¿˜æ˜¯æ•°ç»„ï¼Œå°±å½¢æˆäº†å¤šç»´æ•°ç»„ã€‚

```
var a = [[1, 2], [3, 4]];
a[0][1] // 2
a[1][1] // 4
```

### 2. æ•°ç»„çš„æœ¬è´¨

æœ¬è´¨ä¸Šï¼Œæ•°ç»„å±žäºŽä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚`typeof`è¿ç®—ç¬¦ä¼šè¿”å›žæ•°ç»„çš„ç±»åž‹æ˜¯`object`ã€‚

```
typeof [1, 2, 3] // "object"
```

ä¸Šé¢ä»£ç è¡¨æ˜Žï¼Œ`typeof`è¿ç®—ç¬¦è®¤ä¸ºæ•°ç»„çš„ç±»åž‹å°±æ˜¯å¯¹è±¡ã€‚

æ•°ç»„çš„ç‰¹æ®Šæ€§ä½“çŽ°åœ¨ï¼Œå®ƒçš„é”®åæ˜¯æŒ‰æ¬¡åºæŽ’åˆ—çš„ä¸€ç»„æ•´æ•°ï¼ˆ0ï¼Œ1ï¼Œ2...ï¼‰ã€‚

```
var arr = ['a', 'b', 'c'];

Object.keys(arr)
// ["0", "1", "2"]
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`Object.keys`æ–¹æ³•è¿”å›žæ•°ç»„çš„æ‰€æœ‰é”®åã€‚å¯ä»¥çœ‹åˆ°æ•°ç»„çš„é”®åå°±æ˜¯æ•´æ•°0ã€1ã€2ã€‚

ç”±äºŽæ•°ç»„æˆå‘˜çš„é”®åæ˜¯å›ºå®šçš„ï¼ˆé»˜è®¤æ€»æ˜¯0ã€1ã€2...ï¼‰ï¼Œå› æ­¤æ•°ç»„ä¸ç”¨ä¸ºæ¯ä¸ªå…ƒç´ æŒ‡å®šé”®åï¼Œè€Œå¯¹è±¡çš„æ¯ä¸ªæˆå‘˜éƒ½å¿…é¡»æŒ‡å®šé”®åã€‚JavaScript è¯­è¨€è§„å®šï¼Œå¯¹è±¡çš„é”®åä¸€å¾‹ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ï¼Œæ•°ç»„çš„é”®åå…¶å®žä¹Ÿæ˜¯å­—ç¬¦ä¸²ã€‚ä¹‹æ‰€ä»¥å¯ä»¥ç”¨æ•°å€¼è¯»å–ï¼Œæ˜¯å› ä¸ºéžå­—ç¬¦ä¸²çš„é”®åä¼šè¢«è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

```
var arr = ['a', 'b', 'c'];

arr['0'] // 'a'
arr[0] // 'a'
```

ä¸Šé¢ä»£ç åˆ†åˆ«ç”¨æ•°å€¼å’Œå­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œç»“æžœéƒ½èƒ½è¯»å–æ•°ç»„ã€‚åŽŸå› æ˜¯æ•°å€¼é”®åè¢«è‡ªåŠ¨è½¬ä¸ºäº†å­—ç¬¦ä¸²ã€‚

æ³¨æ„ï¼Œè¿™ç‚¹åœ¨èµ‹å€¼æ—¶ä¹Ÿæˆç«‹ã€‚å¦‚æžœä¸€ä¸ªå€¼æ€»æ˜¯å…ˆè½¬æˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œèµ‹å€¼ã€‚

```
var a = [];

a[1.00] = 6;
a[1] // 6
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºŽ1.00è½¬æˆå­—ç¬¦ä¸²æ˜¯1ï¼Œæ‰€ä»¥é€šè¿‡æ•°å­—é”®1å¯ä»¥è¯»å–å€¼ã€‚

ä¸Šä¸€ç« è¯´è¿‡ï¼Œå¯¹è±¡æœ‰ä¸¤ç§è¯»å–æˆå‘˜çš„æ–¹æ³•ï¼šç‚¹ç»“æž„ï¼ˆobject.keyï¼‰å’Œæ–¹æ‹¬å·ç»“æž„ï¼ˆobject[key]ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯¹äºŽæ•°å€¼çš„é”®åï¼Œä¸èƒ½ä½¿ç”¨ç‚¹ç»“æž„ã€‚

```
var arr = [1, 2, 3];
arr.0 // SyntaxError
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`arr.0`çš„å†™æ³•ä¸åˆæ³•ï¼Œå› ä¸ºå•ç‹¬çš„æ•°å€¼ä¸èƒ½ä½œä¸ºæ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰ã€‚æ‰€ä»¥ï¼Œæ•°ç»„æˆå‘˜åªèƒ½ç”¨æ–¹æ‹¬å·`arr[0]`è¡¨ç¤ºï¼ˆæ–¹æ‹¬å·æ˜¯è¿ç®—ç¬¦ï¼Œå¯ä»¥æŽ¥å—æ•°å€¼ï¼‰ã€‚

### 3. length å±žæ€§

æ•°ç»„çš„`length`å±žæ€§ï¼Œè¿”å›žæ•°ç»„çš„æˆå‘˜æ•°é‡ã€‚

```
['a', 'b', 'c'].length // 3
```

JavaScript ä½¿ç”¨ä¸€ä¸ª32ä½æ•´æ•°ï¼Œä¿å­˜æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚è¿™æ„å‘³ç€ï¼Œæ•°ç»„æˆå‘˜æœ€å¤šåªæœ‰ 4294967295 ä¸ªï¼ˆ2^32 - 1ï¼‰ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´`length`å±žæ€§çš„æœ€å¤§å€¼å°±æ˜¯ 4294967295ã€‚

åªè¦æ˜¯æ•°ç»„ï¼Œå°±ä¸€å®šæœ‰`length`å±žæ€§ã€‚è¯¥å±žæ€§æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å€¼ï¼Œç­‰äºŽé”®åä¸­çš„æœ€å¤§æ•´æ•°åŠ ä¸Š1ã€‚

```
var arr = ['a', 'b'];
arr.length // 2

arr[2] = 'c';
arr.length // 3

arr[9] = 'd';
arr.length // 10

arr[1000] = 'e';
arr.length // 1001
```

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œæ•°ç»„çš„æ•°å­—é”®ä¸éœ€è¦è¿žç»­ï¼Œ`length`å±žæ€§çš„å€¼æ€»æ˜¯æ¯”æœ€å¤§çš„é‚£ä¸ªæ•´æ•°é”®å¤§1ã€‚å¦å¤–ï¼Œè¿™ä¹Ÿè¡¨æ˜Žæ•°ç»„æ˜¯ä¸€ç§åŠ¨æ€çš„æ•°æ®ç»“æž„ï¼Œå¯ä»¥éšæ—¶å¢žå‡æ•°ç»„çš„æˆå‘˜ã€‚

`length`å±žæ€§æ˜¯å¯å†™çš„ã€‚å¦‚æžœäººä¸ºè®¾ç½®ä¸€ä¸ªå°äºŽå½“å‰æˆå‘˜ä¸ªæ•°çš„å€¼ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜ä¼šè‡ªåŠ¨å‡å°‘åˆ°`length`è®¾ç½®çš„å€¼ã€‚

```
var arr = [ 'a', 'b', 'c' ];
arr.length // 3

arr.length = 2;
arr // ["a", "b"]
```

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå½“æ•°ç»„çš„`length`å±žæ€§è®¾ä¸º2ï¼ˆå³æœ€å¤§çš„æ•´æ•°é”®åªèƒ½æ˜¯1ï¼‰é‚£ä¹ˆæ•´æ•°é”®2ï¼ˆå€¼ä¸ºcï¼‰å°±å·²ç»ä¸åœ¨æ•°ç»„ä¸­äº†ï¼Œè¢«è‡ªåŠ¨åˆ é™¤äº†ã€‚

æ¸…ç©ºæ•°ç»„çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•ï¼Œå°±æ˜¯å°†`length`å±žæ€§è®¾ä¸º0ã€‚

```
var arr = [ 'a', 'b', 'c' ];

arr.length = 0;
arr // []
```

å¦‚æžœäººä¸ºè®¾ç½®`length`å¤§äºŽå½“å‰å…ƒç´ ä¸ªæ•°ï¼Œåˆ™æ•°ç»„çš„æˆå‘˜æ•°é‡ä¼šå¢žåŠ åˆ°è¿™ä¸ªå€¼ï¼Œæ–°å¢žçš„ä½ç½®éƒ½æ˜¯ç©ºä½ã€‚

```
var a = ['a'];

a.length = 3;
a[1] // undefined
```

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå½“`length`å±žæ€§è®¾ä¸ºå¤§äºŽæ•°ç»„ä¸ªæ•°æ—¶ï¼Œè¯»å–æ–°å¢žçš„ä½ç½®éƒ½ä¼šè¿”å›ž`undefined`ã€‚

å¦‚æžœäººä¸ºè®¾ç½®`length`ä¸ºä¸åˆæ³•çš„å€¼ï¼ŒJavaScript ä¼šæŠ¥é”™ã€‚

```
// è®¾ç½®è´Ÿå€¼
[].length = -1
// RangeError: Invalid array length

// æ•°ç»„å…ƒç´ ä¸ªæ•°å¤§äºŽç­‰äºŽ2çš„32æ¬¡æ–¹
[].length = Math.pow(2, 32)
// RangeError: Invalid array length

// è®¾ç½®å­—ç¬¦ä¸²
[].length = 'abc'
// RangeError: Invalid array length
```

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºŽæ•°ç»„æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥ä¸ºæ•°ç»„æ·»åŠ å±žæ€§ï¼Œä½†æ˜¯è¿™ä¸å½±å“`length`å±žæ€§çš„å€¼ã€‚

```
var a = [];

a['p'] = 'abc';
a.length // 0

a[2.1] = 'abc';
a.length // 0
```

ä¸Šé¢ä»£ç å°†æ•°ç»„çš„é”®åˆ†åˆ«è®¾ä¸ºå­—ç¬¦ä¸²å’Œå°æ•°ï¼Œç»“æžœéƒ½ä¸å½±å“`length`å±žæ€§ã€‚å› ä¸ºï¼Œ`length`å±žæ€§çš„å€¼å°±æ˜¯ç­‰äºŽæœ€å¤§çš„æ•°å­—é”®åŠ `1`ï¼Œè€Œè¿™ä¸ªæ•°ç»„æ²¡æœ‰æ•´æ•°é”®ï¼Œæ‰€ä»¥`length`å±žæ€§ä¿æŒä¸º0ã€‚

å¦‚æžœæ•°ç»„çš„é”®åæ˜¯æ·»åŠ è¶…å‡ºèŒƒå›´çš„æ•°å€¼ï¼Œè¯¥é”®åä¼šè‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

```
var arr = [];
arr[-1] = 'a';
arr[Math.pow(2, 32)] = 'b';

arr.length // 0
arr[-1] // "a"
arr[4294967296] // "b"
```

ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸ºæ•°ç»„`arr`æ·»åŠ äº†ä¸¤ä¸ªä¸åˆæ³•çš„æ•°å­—é”®ï¼Œç»“æžœ`length`å±žæ€§æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚è¿™äº›æ•°å­—é”®éƒ½å˜æˆäº†å­—ç¬¦ä¸²é”®åã€‚æœ€åŽä¸¤è¡Œä¹‹æ‰€ä»¥ä¼šå–åˆ°å€¼ï¼Œæ˜¯å› ä¸ºå–é”®å€¼æ—¶ï¼Œæ•°å­—é”®åä¼šé»˜è®¤è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

### 4. in è¿ç®—ç¬¦

æ£€æŸ¥æŸä¸ªé”®åæ˜¯å¦å­˜åœ¨çš„è¿ç®—ç¬¦`in`ï¼Œé€‚ç”¨äºŽå¯¹è±¡ï¼Œä¹Ÿé€‚ç”¨äºŽæ•°ç»„ã€‚

```
var arr = [ 'a', 'b', 'c' ];
2 in arr  // true
'2' in arr // true
4 in arr // false
```

ä¸Šé¢ä»£ç è¡¨æ˜Žï¼Œæ•°ç»„å­˜åœ¨é”®åä¸º2çš„é”®ã€‚ç”±äºŽé”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ•°å€¼2ä¼šè‡ªåŠ¨è½¬æˆå­—ç¬¦ä¸²ã€‚

æ³¨æ„ï¼Œå¦‚æžœæ•°ç»„çš„æŸä¸ªä½ç½®æ˜¯ç©ºä½ï¼Œ`in`è¿ç®—ç¬¦è¿”å›ž`false`ã€‚

```
var arr = [];
arr[100] = 'a';

100 in arr // true
1 in arr // false
```

ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„`arr`åªæœ‰ä¸€ä¸ªæˆå‘˜`arr[100]`ï¼Œå…¶ä»–ä½ç½®çš„é”®åéƒ½ä¼šè¿”å›ž`false`ã€‚

### 5. for...in å¾ªçŽ¯å’Œæ•°ç»„çš„éåŽ†

`for...in`å¾ªçŽ¯ä¸ä»…å¯ä»¥éåŽ†å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥éåŽ†æ•°ç»„ï¼Œæ¯•ç«Ÿæ•°ç»„åªæ˜¯ä¸€ç§ç‰¹æ®Šå¯¹è±¡ã€‚

```
var a = [1, 2, 3];

for (var i in a) {
  console.log(a[i]);
}
// 1
// 2
// 3
```

ä½†æ˜¯ï¼Œ`for...in`ä¸ä»…ä¼šéåŽ†æ•°ç»„æ‰€æœ‰çš„æ•°å­—é”®ï¼Œè¿˜ä¼šéåŽ†éžæ•°å­—é”®ã€‚

```
var a = [1, 2, 3];
a.foo = true;

for (var key in a) {
  console.log(key);
}
// 0
// 1
// 2
// foo
```

ä¸Šé¢ä»£ç åœ¨éåŽ†æ•°ç»„æ—¶ï¼Œä¹ŸéåŽ†åˆ°äº†éžæ•´æ•°é”®`foo`ã€‚æ‰€ä»¥ï¼Œä¸æŽ¨èä½¿ç”¨`for...in`éåŽ†æ•°ç»„ã€‚

æ•°ç»„çš„éåŽ†å¯ä»¥è€ƒè™‘ä½¿ç”¨`for`å¾ªçŽ¯æˆ–`while`å¾ªçŽ¯ã€‚

```
var a = [1, 2, 3];

// forå¾ªçŽ¯
for(var i = 0; i < a.length; i++) {
  console.log(a[i]);
}

// whileå¾ªçŽ¯
var i = 0;
while (i < a.length) {
  console.log(a[i]);
  i++;
}

var l = a.length;
while (l--) {
  console.log(a[l]);
}
```

ä¸Šé¢ä»£ç æ˜¯ä¸‰ç§éåŽ†æ•°ç»„çš„å†™æ³•ã€‚æœ€åŽä¸€ç§å†™æ³•æ˜¯é€†å‘éåŽ†ï¼Œå³ä»Žæœ€åŽä¸€ä¸ªå…ƒç´ å‘ç¬¬ä¸€ä¸ªå…ƒç´ éåŽ†ã€‚

```
var colors = ['red', 'green', 'blue'];
colors.forEach(function (color) {
  console.log(color);
});
// red
// green
// blue
```

### 6. æ•°ç»„çš„ç©ºä½ 

å½“æ•°ç»„çš„æŸä¸ªä½ç½®æ˜¯ç©ºå…ƒç´ ï¼Œå³ä¸¤ä¸ªé€—å·ä¹‹é—´æ²¡æœ‰ä»»ä½•å€¼ï¼Œæˆ‘ä»¬ç§°è¯¥æ•°ç»„å­˜åœ¨ç©ºä½ï¼ˆholeï¼‰ã€‚

```
var a = [1, , 1];
a.length // 3
```

ä¸Šé¢ä»£ç è¡¨æ˜Žï¼Œæ•°ç»„çš„ç©ºä½ä¸å½±å“`length`å±žæ€§ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœæœ€åŽä¸€ä¸ªå…ƒç´ åŽé¢æœ‰é€—å·ï¼Œå¹¶ä¸ä¼šäº§ç”Ÿç©ºä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰æ²¡æœ‰è¿™ä¸ªé€—å·ï¼Œç»“æžœéƒ½æ˜¯ä¸€æ ·çš„ã€‚

```
var a = [1, 2, 3,];

a.length // 3
a // [1, 2, 3]
```

ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„æœ€åŽä¸€ä¸ªæˆå‘˜åŽé¢æœ‰ä¸€ä¸ªé€—å·ï¼Œè¿™ä¸å½±å“`length`å±žæ€§çš„å€¼ï¼Œä¸Žæ²¡æœ‰è¿™ä¸ªé€—å·æ—¶æ•ˆæžœä¸€æ ·ã€‚

æ•°ç»„çš„ç©ºä½æ˜¯å¯ä»¥è¯»å–çš„ï¼Œè¿”å›ž`undefined`ã€‚

```
var a = [, , ,];
a[1] // undefined
```

ä½¿ç”¨`delete`å‘½ä»¤åˆ é™¤ä¸€ä¸ªæ•°ç»„æˆå‘˜ï¼Œä¼šå½¢æˆç©ºä½ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“`length`å±žæ€§ã€‚

```
var a = [1, 2, 3];
delete a[1];

a[1] // undefined
a.length // 3
```

ä¸Šé¢ä»£ç ç”¨`delete`å‘½ä»¤åˆ é™¤äº†æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼Œè¿™ä¸ªä½ç½®å°±å½¢æˆäº†ç©ºä½ï¼Œä½†æ˜¯å¯¹`length`å±žæ€§æ²¡æœ‰å½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`length`å±žæ€§ä¸è¿‡æ»¤ç©ºä½ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨`length`å±žæ€§è¿›è¡Œæ•°ç»„éåŽ†ï¼Œä¸€å®šè¦éžå¸¸å°å¿ƒã€‚

æ•°ç»„çš„æŸä¸ªä½ç½®æ˜¯ç©ºä½ï¼Œä¸ŽæŸä¸ªä½ç½®æ˜¯`undefined`ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æžœæ˜¯ç©ºä½ï¼Œä½¿ç”¨æ•°ç»„çš„`forEach`æ–¹æ³•ã€`for...in`ç»“æž„ã€ä»¥åŠ`Object.keys`æ–¹æ³•è¿›è¡ŒéåŽ†ï¼Œç©ºä½éƒ½ä¼šè¢«è·³è¿‡ã€‚

```
var a = [, , ,];

a.forEach(function (x, i) {
  console.log(i + '. ' + x);
})
// ä¸äº§ç”Ÿä»»ä½•è¾“å‡º

for (var i in a) {
  console.log(i);
}
// ä¸äº§ç”Ÿä»»ä½•è¾“å‡º

Object.keys(a)
// []
```

å¦‚æžœæŸä¸ªä½ç½®æ˜¯`undefined`ï¼ŒéåŽ†çš„æ—¶å€™å°±ä¸ä¼šè¢«è·³è¿‡ã€‚

```
var a = [undefined, undefined, undefined];

a.forEach(function (x, i) {
  console.log(i + '. ' + x);
});
// 0. undefined
// 1. undefined
// 2. undefined

for (var i in a) {
  console.log(i);
}
// 0
// 1
// 2

Object.keys(a)
// ['0', '1', '2']
```

è¿™å°±æ˜¯è¯´ï¼Œç©ºä½å°±æ˜¯æ•°ç»„æ²¡æœ‰è¿™ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ä¸ä¼šè¢«éåŽ†åˆ°ï¼Œè€Œ`undefined`åˆ™è¡¨ç¤ºæ•°ç»„æœ‰è¿™ä¸ªå…ƒç´ ï¼Œå€¼æ˜¯`undefined`ï¼Œæ‰€ä»¥éåŽ†ä¸ä¼šè·³è¿‡ã€‚

### 7. ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡

å¦‚æžœä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰é”®åéƒ½æ˜¯æ­£æ•´æ•°æˆ–é›¶ï¼Œå¹¶ä¸”æœ‰`length`å±žæ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±å¾ˆåƒæ•°ç»„ï¼Œè¯­æ³•ä¸Šç§°ä¸ºâ€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€ï¼ˆarray-like objectï¼‰ã€‚

```
var obj = {
  0: 'a',
  1: 'b',
  2: 'c',
  length: 3
};

obj[0] // 'a'
obj[1] // 'b'
obj.length // 3
obj.push('d') // TypeError: obj.push is not a function
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`å°±æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œâ€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€å¹¶ä¸æ˜¯æ•°ç»„ï¼Œå› ä¸ºå®ƒä»¬ä¸å…·å¤‡æ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•ã€‚å¯¹è±¡`obj`æ²¡æœ‰æ•°ç»„çš„`push`æ–¹æ³•ï¼Œä½¿ç”¨è¯¥æ–¹æ³•å°±ä¼šæŠ¥é”™ã€‚

â€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€çš„æ ¹æœ¬ç‰¹å¾ï¼Œå°±æ˜¯å…·æœ‰`length`å±žæ€§ã€‚åªè¦æœ‰`length`å±žæ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºè¿™ä¸ªå¯¹è±¡ç±»ä¼¼äºŽæ•°ç»„ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ç§`length`å±žæ€§ä¸æ˜¯åŠ¨æ€å€¼ï¼Œä¸ä¼šéšç€æˆå‘˜çš„å˜åŒ–è€Œå˜åŒ–ã€‚

```
var obj = {
  length: 0
};
obj[3] = 'd';
obj.length // 0
```

ä¸Šé¢ä»£ç ä¸ºå¯¹è±¡`obj`æ·»åŠ äº†ä¸€ä¸ªæ•°å­—é”®ï¼Œä½†æ˜¯`length`å±žæ€§æ²¡å˜ã€‚è¿™å°±è¯´æ˜Žäº†`obj`ä¸æ˜¯æ•°ç»„ã€‚

å…¸åž‹çš„â€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€æ˜¯å‡½æ•°çš„`arguments`å¯¹è±¡ï¼Œä»¥åŠå¤§å¤šæ•° `DOM` å…ƒç´ é›†ï¼Œè¿˜æœ‰å­—ç¬¦ä¸²ã€‚

```
// argumentså¯¹è±¡
function args() { return arguments }
var arrayLike = args('a', 'b');

arrayLike[0] // 'a'
arrayLike.length // 2
arrayLike instanceof Array // false

// DOMå…ƒç´ é›†
var elts = document.getElementsByTagName('h3');
elts.length // 3
elts instanceof Array // false

// å­—ç¬¦ä¸²
'abc'[1] // 'b'
'abc'.length // 3
'abc' instanceof Array // false
```

ä¸Šé¢ä»£ç åŒ…å«ä¸‰ä¸ªä¾‹å­ï¼Œå®ƒä»¬éƒ½ä¸æ˜¯æ•°ç»„ï¼ˆ`instanceof`è¿ç®—ç¬¦è¿”å›ž`false`ï¼‰ï¼Œä½†æ˜¯çœ‹ä¸ŠåŽ»éƒ½éžå¸¸åƒæ•°ç»„ã€‚

æ•°ç»„çš„`slice`æ–¹æ³•å¯ä»¥å°†â€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€å˜æˆçœŸæ­£çš„æ•°ç»„ã€‚

```
var arr = Array.prototype.slice.call(arrayLike);
```

é™¤äº†è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œâ€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€è¿˜æœ‰ä¸€ä¸ªåŠžæ³•å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå°±æ˜¯é€šè¿‡`call()`æŠŠæ•°ç»„çš„æ–¹æ³•æ”¾åˆ°å¯¹è±¡ä¸Šé¢ã€‚

```
function print(value, index) {
  console.log(index + ' : ' + value);
}

Array.prototype.forEach.call(arrayLike, print);
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`arrayLike`ä»£è¡¨ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæœ¬æ¥æ˜¯ä¸å¯ä»¥ä½¿ç”¨æ•°ç»„çš„`forEach()`æ–¹æ³•çš„ï¼Œä½†æ˜¯é€šè¿‡`call()`ï¼Œå¯ä»¥æŠŠ`forEach()`å«æŽ¥åˆ°`arrayLike`ä¸Šé¢è°ƒç”¨ã€‚

ä¸‹é¢çš„ä¾‹å­å°±æ˜¯é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œåœ¨`arguments`å¯¹è±¡ä¸Šé¢è°ƒç”¨`forEach`æ–¹æ³•ã€‚

```
// forEach æ–¹æ³•
function logArgs() {
  Array.prototype.forEach.call(arguments, function (elem, i) {
    console.log(i + '. ' + elem);
  });
}

// ç­‰åŒäºŽ for å¾ªçŽ¯
function logArgs() {
  for (var i = 0; i < arguments.length; i++) {
    console.log(i + '. ' + arguments[i]);
  }
}
```

å­—ç¬¦ä¸²ä¹Ÿæ˜¯ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨`Array.prototype.forEach.call`éåŽ†ã€‚

```
Array.prototype.forEach.call('abc', function (chr) {
  console.log(chr);
});
// a
// b
// c
```

æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•æ¯”ç›´æŽ¥ä½¿ç”¨æ•°ç»„åŽŸç”Ÿçš„`forEach`è¦æ…¢ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯å…ˆå°†â€œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡â€è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œç„¶åŽå†ç›´æŽ¥è°ƒç”¨æ•°ç»„çš„`forEach`æ–¹æ³•ã€‚

```
var arr = Array.prototype.slice.call('abc');
arr.forEach(function (chr) {
  console.log(chr);
});
// a
// b
// c
```










































































































































































































































































































































































































































































































































